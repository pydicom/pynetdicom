

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pynetdicom.pdu_items &mdash; pynetdicom 1.0.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/pynetdicom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/pynetdicom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> pynetdicom
          

          
            
            <img src="../../_static/pydicom_flat_black.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../verification_service_class.html">Verification Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../storage_service_class.html">Storage Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../query_retrieve_service_class.html">Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../basic_worklist_service_class.html">Basic Worklist Management Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../relevant_patient_service_class.html">Relevant Patient Information Query Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../substance_admin_service_class.html">Substance Administration Query Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../non_patient_service_class.html">Non-Patient Object Storage Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../color_palette_service_class.html">Color Palette Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../defined_procedure_service_class.html">Defined Procedure Protocol Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hanging_protocol_service_class.html">Hanging Protocol Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../implant_template_service_class.html">Implant Template Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../display_system_service_class.html">Display System Management Service Class</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">1.0.0</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pynetdicom</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Module code</a> &raquo;</li>
        
      <li>pynetdicom.pdu_items</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for pynetdicom.pdu_items</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;DICOM Upper Layer PDU Items and Sub-items.</span>

<span class="sd">**A-ASSOCIATE-RQ PDU Items**</span>

<span class="sd">- ApplicationContextItem</span>
<span class="sd">- PresentationContextItemRQ</span>

<span class="sd">  - AbstractSyntaxSubItem</span>
<span class="sd">  - TransferSyntaxSubItem</span>
<span class="sd">- UserInformationItem</span>

<span class="sd">  - MaximumLengthSubItem</span>
<span class="sd">  - ImplementationClassUIDSubItem</span>
<span class="sd">  - ImplementationVersionNameSubItem</span>
<span class="sd">  - AsynchronousOperationsWindowSubItem</span>
<span class="sd">  - SCP_SCU_RoleSelectionSubItem</span>
<span class="sd">  - SOPClassExtendedNegotiationSubItem</span>
<span class="sd">  - SOPClassCommonExtendedNegotiationSubItem</span>
<span class="sd">  - UserIdentitySubItemRQ</span>

<span class="sd"> **A-ASSOCIATE-AC PDU Items**</span>

<span class="sd"> - ApplicationContextItem</span>
<span class="sd"> - PresentationContextItemAC</span>

<span class="sd">   - TransferSyntaxSubItem</span>
<span class="sd"> - UserInformationItem</span>

<span class="sd">   - MaximumLengthSubItem</span>
<span class="sd">   - ImplementationClassUIDSubItem</span>
<span class="sd">   - ImplementationVersionNameSubItem</span>
<span class="sd">   - AsynchronousOperationsWindowSubItem</span>
<span class="sd">   - SCP_SCU_RoleSelectionSubItem</span>
<span class="sd">   - SOPClassExtendedNegotiationSubItem</span>
<span class="sd">   - SOPClassCommonExtendedNegotiationSubItem</span>
<span class="sd">   - UserIdentitySubItemAC</span>

<span class="sd">**P-DATA-TF PDU Items**</span>

<span class="sd">- PresentationDataValueItem</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">codecs</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">struct</span> <span class="k">import</span> <span class="n">Struct</span>

<span class="kn">from</span> <span class="nn">pydicom.uid</span> <span class="k">import</span> <span class="n">UID</span>

<span class="kn">from</span> <span class="nn">pynetdicom.presentation</span> <span class="k">import</span> <span class="n">PresentationContext</span>


<span class="n">LOGGER</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;pynetdicom.pdu_items&#39;</span><span class="p">)</span>

<span class="c1"># Predefine some structs to make decoding and encoding faster</span>
<span class="n">UCHAR</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">)</span>
<span class="n">UINT2</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="s1">&#39;&gt;H&#39;</span><span class="p">)</span>
<span class="n">UINT4</span> <span class="o">=</span> <span class="n">Struct</span><span class="p">(</span><span class="s1">&#39;&gt;I&#39;</span><span class="p">)</span>

<span class="n">UNPACK_UCHAR</span> <span class="o">=</span> <span class="n">UCHAR</span><span class="o">.</span><span class="n">unpack</span>
<span class="n">UNPACK_UINT2</span> <span class="o">=</span> <span class="n">UINT2</span><span class="o">.</span><span class="n">unpack</span>
<span class="n">UNPACK_UINT4</span> <span class="o">=</span> <span class="n">UINT4</span><span class="o">.</span><span class="n">unpack</span>

<span class="n">PACK_UCHAR</span> <span class="o">=</span> <span class="n">UCHAR</span><span class="o">.</span><span class="n">pack</span>
<span class="n">PACK_UINT2</span> <span class="o">=</span> <span class="n">UINT2</span><span class="o">.</span><span class="n">pack</span>
<span class="n">PACK_UINT4</span> <span class="o">=</span> <span class="n">UINT4</span><span class="o">.</span><span class="n">pack</span>


<span class="k">class</span> <span class="nc">PDUItem</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for PDU Items and Sub-items.</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    pdu.PDU</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">decode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bytestream</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Decode `bytestream` and use the result to set the field values of</span>
<span class="sd">        the PDU item.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bytestream : bytes</span>
<span class="sd">            The PDU data to be decoded.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">length</span><span class="p">),</span> <span class="n">attr_name</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">args</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_decoders</span><span class="p">:</span>
            <span class="c1"># Allow us to use None as a `length`</span>
            <span class="k">if</span> <span class="n">length</span><span class="p">:</span>
                <span class="n">sl</span> <span class="o">=</span> <span class="nb">slice</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="n">length</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">sl</span> <span class="o">=</span> <span class="nb">slice</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr_name</span><span class="p">,</span> <span class="n">func</span><span class="p">(</span><span class="n">bytestream</span><span class="p">[</span><span class="n">sl</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the encoded PDU as bytes.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bytes</span>
<span class="sd">            The encoded PDU.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bytestream</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">attr_name</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">args</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_encoders</span><span class="p">:</span>
            <span class="c1"># If attr_name is None then the field is usually reserved</span>
            <span class="k">if</span> <span class="n">attr_name</span><span class="p">:</span>
                <span class="n">bytestream</span> <span class="o">+=</span> <span class="n">func</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr_name</span><span class="p">),</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">bytestream</span> <span class="o">+=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">bytestream</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field encoders.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return True if `self` equals `other`.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">other</span> <span class="ow">is</span> <span class="bp">self</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="n">self_dict</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">en</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">en</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">en</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_encoders</span> <span class="k">if</span> <span class="n">en</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="p">}</span>
            <span class="n">other_dict</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">en</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">en</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">en</span> <span class="ow">in</span> <span class="n">other</span><span class="o">.</span><span class="n">_encoders</span> <span class="k">if</span> <span class="n">en</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">self_dict</span> <span class="o">==</span> <span class="n">other_dict</span>

        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_generate_items</span><span class="p">(</span><span class="n">bytestream</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Yield PDU item data from `bytestream`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bytestream : bytes</span>
<span class="sd">            The encoded PDU variable item data.</span>

<span class="sd">        Yields</span>
<span class="sd">        ------</span>
<span class="sd">        int, bytes</span>
<span class="sd">            The variable item&#39;s *Item Type* parameter as int, and the item&#39;s</span>
<span class="sd">            entire encoded data as bytes.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Can be used with the following PDU items/sub-items:</span>

<span class="sd">        - Application Context Item</span>
<span class="sd">        - Presentation Context Item (RQ/AC)</span>

<span class="sd">          - Abstract Syntax Sub-item</span>
<span class="sd">          - Transfer Syntax Sub-item</span>
<span class="sd">        - User Information Item</span>

<span class="sd">          - Implementation Class UID Sub-item (RQ/AC)</span>
<span class="sd">          - Implementation Version Name Sub-item (RQ/AC)</span>
<span class="sd">          - Asynchronous Operations Window Sub-item (RQ/AC)</span>
<span class="sd">          - SCP/SCU Role Selection Sub-item (RQ/AC)</span>
<span class="sd">          - SOP Class Extended Negotiation Sub-item (RQ/AC)</span>
<span class="sd">          - SOP Class Common Extended Negotiation Sub-item (RQ/AC)</span>
<span class="sd">          - User Identity Sub-item (RQ/AC)</span>

<span class="sd">        **Encoding**</span>

<span class="sd">        When encoded, PDU item and sub-item data for the above has the following</span>
<span class="sd">        structure, taken from various tables in [#]_ (offsets shown with Python</span>
<span class="sd">        indexing). Items are always encoded using Big Endian [#]_.</span>

<span class="sd">        +--------+-------------+-------------+</span>
<span class="sd">        | Offset | Length      | Description |</span>
<span class="sd">        +========+=============+=============+</span>
<span class="sd">        | 0      | 1           | Item type   |</span>
<span class="sd">        +--------+-------------+-------------+</span>
<span class="sd">        | 1      | 1           | Reserved    |</span>
<span class="sd">        +--------+-------------+-------------+</span>
<span class="sd">        | 2      | 2           | Item length |</span>
<span class="sd">        +--------+-------------+-------------+</span>
<span class="sd">        | 4      | Item length | Item data   |</span>
<span class="sd">        +--------+-------------+-------------+</span>

<span class="sd">        References</span>
<span class="sd">        ----------</span>
<span class="sd">        .. [#] DICOM Standard, Part 8, Section</span>
<span class="sd">           `9.3 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3&gt;`_</span>
<span class="sd">        .. [#] DICOM Standard, Part 8, Section</span>
<span class="sd">           `9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">bytestream</span><span class="p">[</span><span class="n">offset</span><span class="p">:</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]:</span>
            <span class="n">item_type</span> <span class="o">=</span> <span class="n">UNPACK_UCHAR</span><span class="p">(</span><span class="n">bytestream</span><span class="p">[</span><span class="n">offset</span><span class="p">:</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">item_length</span> <span class="o">=</span> <span class="n">UNPACK_UINT2</span><span class="p">(</span><span class="n">bytestream</span><span class="p">[</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">2</span><span class="p">:</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">item_data</span> <span class="o">=</span> <span class="n">bytestream</span><span class="p">[</span><span class="n">offset</span><span class="p">:</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">+</span> <span class="n">item_length</span><span class="p">]</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">item_data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span> <span class="o">+</span> <span class="n">item_length</span>
            <span class="k">yield</span> <span class="n">item_type</span><span class="p">,</span> <span class="n">item_data</span>
            <span class="c1"># Move `offset` to the start of the next item</span>
            <span class="n">offset</span> <span class="o">+=</span> <span class="mi">4</span> <span class="o">+</span> <span class="n">item_length</span>

    <span class="c1"># Python 2: Classes defining __eq__ should flag themselves as unhashable</span>
    <span class="fm">__hash__</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Type* field value as an int.&quot;&quot;&quot;</span>
        <span class="n">key_val</span> <span class="o">=</span> <span class="n">PDU_ITEM_TYPES</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="ow">in</span> <span class="n">key_val</span><span class="p">]</span>
        <span class="n">vals</span> <span class="o">=</span> <span class="p">[</span><span class="n">val</span> <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="ow">in</span> <span class="n">key_val</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">keys</span><span class="p">[</span><span class="n">vals</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)]</span>

    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the total length of the encoded item as an int.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mi">4</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_length</span>

    <span class="k">def</span> <span class="nf">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return True if `self` does not equal `other`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">other</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_wrap_bytes</span><span class="p">(</span><span class="n">bytestream</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return `bytestream` without changing it.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">bytestream</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_wrap_uid_bytes</span><span class="p">(</span><span class="n">bytestream</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return `bytestream` without any trailing null padding.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">bytestream</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x00</span><span class="s1">&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">bytestream</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">bytestream</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_wrap_encode_items</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return `items` encoded as bytes.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        items : list of PDU items</span>
<span class="sd">            The items to encode.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bytes</span>
<span class="sd">            The encoded items.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bytestream</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
            <span class="n">bytestream</span> <span class="o">+=</span> <span class="n">item</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">bytestream</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_wrap_encode_uid</span><span class="p">(</span><span class="n">uid</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return `uid` as bytes encoded using ASCII.</span>

<span class="sd">        Each component of Application Context, Abstract Syntax and Transfer</span>
<span class="sd">        Syntax UIDs should be encoded as a ISO 646:1990-Basic G0 Set Numeric</span>
<span class="sd">        String (characters 0-9), with each component separated by &#39;.&#39; (0x2e)</span>
<span class="sd">        [#]_.</span>

<span class="sd">        &#39;ascii&#39; is chosen because this is the codec Python uses for ISO 646 [#]_</span>
<span class="sd">        [#]_.</span>

<span class="sd">        Odd-length UIDs should NOT have a trailing padding 0x00 byte to make</span>
<span class="sd">        them even length (as per Part 5, Section 9.1: &quot;If ending on an odd</span>
<span class="sd">        byte boundary, except when used for network negotiation, one trailing</span>
<span class="sd">        padding character...&quot;)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        uid : pydicom.uid.UID</span>
<span class="sd">            The UID to encode using ASCII.</span>
<span class="sd">        encode_as_uid : bool, optional</span>
<span class="sd">            If False (default) then add no trailing padding null byte for</span>
<span class="sd">            odd length UIDs, otherwise add the trailing null byte.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bytes</span>
<span class="sd">            The encoded `uid`.</span>

<span class="sd">        References</span>
<span class="sd">        ----------</span>
<span class="sd">        .. [#] DICOM Standard, part 8, `Annex F &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#chapter_F&gt;`_.</span>
<span class="sd">        .. [#] `Python 2 codecs module &lt;https://docs.python.org/3/library/codecs.html#standard-encodings&gt;`_</span>
<span class="sd">        .. [#] `Python 3 codecs module &lt;https://docs.python.org/2/library/codecs.html#standard-encodings&gt;`_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">codecs</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">uid</span><span class="p">,</span> <span class="s1">&#39;ascii&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_wrap_generate_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bytestream</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of encoded PDU items generated from `bytestream`.&quot;&quot;&quot;</span>
        <span class="n">item_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">item_type</span><span class="p">,</span> <span class="n">item_bytes</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_items</span><span class="p">(</span><span class="n">bytestream</span><span class="p">):</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">PDU_ITEM_TYPES</span><span class="p">[</span><span class="n">item_type</span><span class="p">]()</span>
            <span class="n">item</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">item_bytes</span><span class="p">)</span>
            <span class="n">item_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">item_list</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_wrap_pack</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">packer</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return `value` encoded as bytes using `packer`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value</span>
<span class="sd">            The value to encode.</span>
<span class="sd">        packer : callable</span>
<span class="sd">            A callable function to use to pack the data as bytes. The</span>
<span class="sd">            `packer` should return the packed bytes. Example:</span>
<span class="sd">            struct.Struct(&#39;&gt;I&#39;).pack</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bytes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">packer</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_wrap_unpack</span><span class="p">(</span><span class="n">bytestream</span><span class="p">,</span> <span class="n">unpacker</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the first value when `unpacker` is run on `bytestream`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bytestream : bytes</span>
<span class="sd">            The encoded data to unpack.</span>
<span class="sd">        unpacker : callable</span>
<span class="sd">            A callable function to use to unpack the data in `bytestream`. The</span>
<span class="sd">            `unpacker` should return a tuple containing unpacked values.</span>
<span class="sd">            Example: struct.Struct(&#39;&gt;I&#39;).unpack.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">unpacker</span><span class="p">(</span><span class="n">bytestream</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>


<span class="c1">## A-ASSOCIATE-RQ and -AC items</span>
<div class="viewcode-block" id="ApplicationContextItem"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.ApplicationContextItem.html#pynetdicom.pdu.ApplicationContextItem">[docs]</a><span class="k">class</span> <span class="nc">ApplicationContextItem</span><span class="p">(</span><span class="n">PDUItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An Application Context Item.</span>

<span class="sd">    An Application Context explicitly defines the set of appliation service</span>
<span class="sd">    elements, related options and any other information necessary for the</span>
<span class="sd">    inter-working of Application Entities on an association [#]_.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    application_context_name : pydicom.uid.UID</span>
<span class="sd">        The *Application Context Name* field value.</span>
<span class="sd">    item_length : int</span>
<span class="sd">        The number of bytes from the first byte following the *Item Length*</span>
<span class="sd">        field to the last byte of the Item.</span>
<span class="sd">    item_type : int</span>
<span class="sd">        The *Item Type* field value (0x10).</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    An Application Context Item requires the following parameters:</span>

<span class="sd">        * Item type (1, fixed value, 0x10)</span>
<span class="sd">        * Item length (1)</span>
<span class="sd">        * Application Context Name (1)</span>

<span class="sd">    **Application Context Names**</span>

<span class="sd">    Application Context Names are OSI Object Identifiers in a numeric form as</span>
<span class="sd">    defined by ISO 8824 [#]_. They are encoded as an ISO 646:1990-Basic G0 Set</span>
<span class="sd">    Numeric String of bytes (characters 0-9), separated by the character</span>
<span class="sd">    ``.`` (0x2e) [#]_. No separator or padding shall be present before the</span>
<span class="sd">    first digit of the first component or after the last digit of the last</span>
<span class="sd">    component.</span>

<span class="sd">    Application context names shall not exceed 64 total characters.</span>

<span class="sd">    A single DICOM Application Context Name is defined for the current (2018c)</span>
<span class="sd">    version of the DICOM Standard and it is *1.2.840.10008.3.1.1.1* [#]_.</span>

<span class="sd">    **Encoding**</span>

<span class="sd">    When encoded, an Application Context Item has the following structure,</span>
<span class="sd">    taken from Table 9-12 [#]_ (offsets shown with Python indexing). Items are</span>
<span class="sd">    always encoded using Big Endian [#]_. Encoding of the Application Context</span>
<span class="sd">    Name parameter follows the rules in Part 8, Annex F.</span>

<span class="sd">    +--------+-------------+--------------------------+</span>
<span class="sd">    | Offset | Length      | Description              |</span>
<span class="sd">    +========+=============+==========================+</span>
<span class="sd">    | 0      | 1           | Item type                |</span>
<span class="sd">    +--------+-------------+--------------------------+</span>
<span class="sd">    | 1      | 1           | Reserved                 |</span>
<span class="sd">    +--------+-------------+--------------------------+</span>
<span class="sd">    | 2      | 2           | Item length              |</span>
<span class="sd">    +--------+-------------+--------------------------+</span>
<span class="sd">    | 4      | Variable    | Application context name |</span>
<span class="sd">    +--------+-------------+--------------------------+</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [#] DICOM Standard, Part 7,</span>
<span class="sd">       `Annex A  &lt;http://dicom.nema.org/medical/dicom/current/output/html/part07.html#chapter_A&gt;`_</span>
<span class="sd">    .. [#] `ISO/IEC 8824-1:2015 &lt;https://www.iso.org/standard/68350.html&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Annex F &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#chapter_F&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 7,</span>
<span class="sd">       `Annex A.2.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part07.html#sect_A.2.1&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.2.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.2.1&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="ApplicationContextItem.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.ApplicationContextItem.html#pynetdicom.pdu.ApplicationContextItem.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new Application Context Item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">application_context_name</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;1.2.840.10008.3.1.1.1&#39;</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">application_context_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Application Context Name* field value as UID.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_application_context_name</span>

    <span class="nd">@application_context_name</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">application_context_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the *Application Context Name* field value.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : pydicom.uid.UID, str or bytes</span>
<span class="sd">            The value of the Application Context Name&#39;s UID</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UID</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Application Context Name must be a UID, &#39;</span>
                            <span class="s1">&#39;str or bytes&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_application_context_name</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of ((offset, length), attr_name, callable, [args]), where</span>

<span class="sd">            - offset is the byte offset to start at</span>
<span class="sd">            - length is how many bytes to slice (if None then will slice to the</span>
<span class="sd">              end of the data),</span>
<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is a decoding function that returns the decoded value,</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;application_context_name&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_uid_bytes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of (attr_name, callable, [args]), where</span>

<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is an encoding function that returns bytes</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;item_type&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;item_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;application_context_name&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_encode_uid</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">application_context_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of the Item.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{0!s}</span><span class="s1"> (</span><span class="si">{1!s}</span><span class="s1">)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">application_context_name</span><span class="p">,</span>
                                     <span class="bp">self</span><span class="o">.</span><span class="n">application_context_name</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">s</span></div>


<div class="viewcode-block" id="PresentationContextItemRQ"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.PresentationContextItemRQ.html#pynetdicom.pdu.PresentationContextItemRQ">[docs]</a><span class="k">class</span> <span class="nc">PresentationContextItemRQ</span><span class="p">(</span><span class="n">PDUItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A Presentation Context (RQ) Item.</span>

<span class="sd">    Presentation Contexts (RQ) Items are used by the association requestor to</span>
<span class="sd">    propose Abstract Syntaxes (specifications of data elements with associated</span>
<span class="sd">    semantics) and Transfer Syntaxes (sets of encoding rules) [#]_.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    abstract_syntax : pydicom.uid.UID or None.</span>
<span class="sd">        The Presentation Context Item&#39;s Abstract Syntax (if available).</span>
<span class="sd">    abstract_transfer_syntax_sub_items : list of AbstractSyntaxSubItem and TransferSyntaxSubItem</span>
<span class="sd">        The *Abstract/Transfer Syntax Sub-Items* field value. The order of the</span>
<span class="sd">        items is not guaranteed.</span>
<span class="sd">    item_length : int</span>
<span class="sd">        The number of bytes from the first byte following the *Item Length*</span>
<span class="sd">        field to the last byte of the Item.</span>
<span class="sd">    item_type : int</span>
<span class="sd">        The *Item Type* field value (0x20).</span>
<span class="sd">    presentation_context_id : int or None</span>
<span class="sd">        The *Presentation Context ID* field value, an odd integer between 1 and</span>
<span class="sd">        255.</span>
<span class="sd">    transfer_syntax : list of pydicom.uid.UID</span>
<span class="sd">        The Presentation Context Item&#39;s Transfer Syntax(es) (if available).</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    A Presentation Context (RQ) Item requires the following parameters:</span>

<span class="sd">        * Item type (1, fixed value, 0x20)</span>
<span class="sd">        * Item length (1)</span>
<span class="sd">        * Presentation context ID (1)</span>
<span class="sd">        * Abstract/Transfer Syntax Sub-items (1)</span>

<span class="sd">          * Abstract Syntax Sub-item (1)</span>

<span class="sd">            * Item type (1, fixed, 0x30)</span>
<span class="sd">            * Item length (1)</span>
<span class="sd">            * Abstract syntax name (1)</span>
<span class="sd">          * Transfer Syntax Sub-items (1 or more)</span>

<span class="sd">            * Item type (1, fixed, 0x40)</span>
<span class="sd">            * Item length (1)</span>
<span class="sd">            * Transfer syntax name(s) (1 or more)</span>

<span class="sd">    **Encoding**</span>

<span class="sd">    When encoded, a Presentation Context (RQ) Item has the following structure,</span>
<span class="sd">    taken from Table 9-13 [#]_ (offsets shown with Python indexing). Items are</span>
<span class="sd">    always encoded using Big Endian [#]_.</span>

<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | Offset | Length      | Description                        |</span>
<span class="sd">    +========+=============+====================================+</span>
<span class="sd">    | 0      | 1           | Item type                          |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 1      | 1           | Reserved                           |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 2      | 2           | Item length                        |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 4      | 1           | Presentation context ID            |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 5      | 1           | Reserved                           |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 6      | 1           | Reserved                           |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 7      | 1           | Reserved                           |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 8      | Variable    | Abstract/transfer syntax sub-items |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Annex B &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#chapter_B&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8, Section</span>
<span class="sd">       `9.3.2.2 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.2.2&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8, Section</span>
<span class="sd">       `9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="PresentationContextItemRQ.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.PresentationContextItemRQ.html#pynetdicom.pdu.PresentationContextItemRQ.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new Presentation Context (RQ) Item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">presentation_context_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">abstract_transfer_syntax_sub_items</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="PresentationContextItemRQ.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.PresentationContextItemRQ.html#pynetdicom.pdu.PresentationContextItemRQ.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">primitive</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the item&#39;s values using a Presentation Context primitive.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        primitive : presentation.PresentationContext</span>
<span class="sd">            The primitive to use to set the Item&#39;s field values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Add presentation context ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">presentation_context_id</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">context_id</span>

        <span class="c1"># Add abstract syntax</span>
        <span class="n">abstract_syntax</span> <span class="o">=</span> <span class="n">AbstractSyntaxSubItem</span><span class="p">()</span>
        <span class="n">abstract_syntax</span><span class="o">.</span><span class="n">abstract_syntax_name</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">abstract_syntax</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">abstract_transfer_syntax_sub_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">abstract_syntax</span><span class="p">)</span>

        <span class="c1"># Add transfer syntax(es)</span>
        <span class="k">for</span> <span class="n">syntax</span> <span class="ow">in</span> <span class="n">primitive</span><span class="o">.</span><span class="n">transfer_syntax</span><span class="p">:</span>
            <span class="n">transfer_syntax</span> <span class="o">=</span> <span class="n">TransferSyntaxSubItem</span><span class="p">()</span>
            <span class="n">transfer_syntax</span><span class="o">.</span><span class="n">transfer_syntax_name</span> <span class="o">=</span> <span class="n">syntax</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">abstract_transfer_syntax_sub_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">transfer_syntax</span><span class="p">)</span></div>

<div class="viewcode-block" id="PresentationContextItemRQ.to_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.PresentationContextItemRQ.html#pynetdicom.pdu.PresentationContextItemRQ.to_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">to_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a PresentationContext primitive from the current Item.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        presentation.PresentationContext</span>
<span class="sd">            The primitive representation of the current Item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">context</span> <span class="o">=</span> <span class="n">PresentationContext</span><span class="p">()</span>
        <span class="n">context</span><span class="o">.</span><span class="n">context_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">presentation_context_id</span>

        <span class="c1"># Add transfer syntax(es)</span>
        <span class="k">for</span> <span class="n">syntax</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">abstract_transfer_syntax_sub_items</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">syntax</span><span class="p">,</span> <span class="n">TransferSyntaxSubItem</span><span class="p">):</span>
                <span class="n">context</span><span class="o">.</span><span class="n">add_transfer_syntax</span><span class="p">(</span><span class="n">syntax</span><span class="o">.</span><span class="n">transfer_syntax_name</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">syntax</span><span class="p">,</span> <span class="n">AbstractSyntaxSubItem</span><span class="p">):</span>
                <span class="n">context</span><span class="o">.</span><span class="n">abstract_syntax</span> <span class="o">=</span> <span class="n">syntax</span><span class="o">.</span><span class="n">abstract_syntax_name</span>

        <span class="k">return</span> <span class="n">context</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">abstract_syntax</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Abstract Syntax*, if available.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pydicom.uid.UID or None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">abstract_transfer_syntax_sub_items</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">AbstractSyntaxSubItem</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">item</span><span class="o">.</span><span class="n">abstract_syntax_name</span>

        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">context_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Presentation Context ID* field value as an int.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">presentation_context_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of ((offset, length), attr_name, callable, [args]), where</span>

<span class="sd">            - offset is the byte offset to start at</span>
<span class="sd">            - length is how many bytes to slice (if None then will slice to the</span>
<span class="sd">              end of the data),</span>
<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is a decoding function that returns the decoded value,</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span>
                <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                <span class="s1">&#39;presentation_context_id&#39;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_unpack</span><span class="p">,</span>
                <span class="p">[</span><span class="n">UNPACK_UCHAR</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="p">(</span>
                <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="s1">&#39;abstract_transfer_syntax_sub_items&#39;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_generate_items</span><span class="p">,</span>
                <span class="p">[]</span>
            <span class="p">)</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of (attr_name, callable, [args]), where</span>

<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is an encoding function that returns bytes</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;item_type&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;item_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;presentation_context_id&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;abstract_transfer_syntax_sub_items&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_encode_items</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="n">length</span> <span class="o">=</span> <span class="mi">4</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">abstract_transfer_syntax_sub_items</span><span class="p">:</span>
            <span class="n">length</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">length</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of the Item.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Presentation Context (RQ) Item</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item type: 0x</span><span class="si">{0:02x}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Context ID: </span><span class="si">{0:d}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context_id</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">abstract_transfer_syntax_sub_items</span><span class="p">:</span>
            <span class="n">item_str</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{0!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span>
            <span class="n">item_str_list</span> <span class="o">=</span> <span class="n">item_str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;  + </span><span class="si">{0!s}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">item_str_list</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">jj</span> <span class="ow">in</span> <span class="n">item_str_list</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;    </span><span class="si">{0!s}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">jj</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">s</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">transfer_syntax</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Transfer Syntax(es)*.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of pydicom.uid.UID</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">syntaxes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">abstract_transfer_syntax_sub_items</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">TransferSyntaxSubItem</span><span class="p">):</span>
                <span class="n">syntaxes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">transfer_syntax_name</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">syntaxes</span></div>


<div class="viewcode-block" id="PresentationContextItemAC"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.PresentationContextItemAC.html#pynetdicom.pdu.PresentationContextItemAC">[docs]</a><span class="k">class</span> <span class="nc">PresentationContextItemAC</span><span class="p">(</span><span class="n">PDUItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A Presentation Context (AC) Ttem.</span>

<span class="sd">    Presentation Contexts (AC) Items are used by the association acceptor to</span>
<span class="sd">    signal which Abstract Syntaxes and Transfer Syntaxes have been accepted or</span>
<span class="sd">    rejected.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    item_length : int</span>
<span class="sd">        The number of bytes from the first byte following the *Item Length*</span>
<span class="sd">        field to the last byte of the Item.</span>
<span class="sd">    item_type : int</span>
<span class="sd">        The *Item Type* field value (0x21).</span>
<span class="sd">    presentation_context_id : int or None</span>
<span class="sd">        The *Presentation Context ID* field value, an odd integer between 1 and</span>
<span class="sd">        255.</span>
<span class="sd">    result_reason : int</span>
<span class="sd">        The Presentation Context&#39;s *Result/reason* field value.</span>
<span class="sd">    transfer_syntax : list of pydicom.uid.UID</span>
<span class="sd">        The Presentation Context Item&#39;s Transfer Syntax (if available).</span>
<span class="sd">    transfer_syntax_sub_item : list of pynetdicom.uid.UID</span>
<span class="sd">        The Presentation Context Items&#39; *Transfer Syntax Sub-item* field value.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    A Presentation Context (AC) Item requires the following parameters:</span>

<span class="sd">        * Item type (1, fixed value, 0x21)</span>
<span class="sd">        * Item length (1)</span>
<span class="sd">        * Presentation context ID (1)</span>
<span class="sd">        * Result/reason (1)</span>
<span class="sd">        * Transfer Syntax Sub-item (1)</span>

<span class="sd">          * Item type (1, fixed, 0x40)</span>
<span class="sd">          * Item length (1)</span>
<span class="sd">          * Transfer syntax name (1)</span>

<span class="sd">    **Encoding**</span>

<span class="sd">    When encoded, a Presentation Context (AC) Item has the following structure,</span>
<span class="sd">    taken from Table 9-13 [#]_ (offsets shown with Python indexing). Items are</span>
<span class="sd">    always encoded using Big Endian [#]_.</span>

<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | Offset | Length      | Description                        |</span>
<span class="sd">    +========+=============+====================================+</span>
<span class="sd">    | 0      | 1           | Item type                          |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 1      | 1           | Reserved                           |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 2      | 2           | Item length                        |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 4      | 1           | Presentation context ID            |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 5      | 1           | Reserved                           |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 6      | 1           | Result/reason                      |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 7      | 1           | Reserved                           |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 8      | Variable    | Transfer syntax sub-item           |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [#] DICOM Standard, Part 8, Section</span>
<span class="sd">       `9.3.3.2 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.3.2&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8, Section</span>
<span class="sd">       `9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="PresentationContextItemAC.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.PresentationContextItemAC.html#pynetdicom.pdu.PresentationContextItemAC.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new Presentation Context (AC) Item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">presentation_context_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">result_reason</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transfer_syntax_sub_item</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="PresentationContextItemAC.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.PresentationContextItemAC.html#pynetdicom.pdu.PresentationContextItemAC.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">primitive</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the item&#39;s values using a Presentation Context primitive.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        primitive : presentation.PresentationContext</span>
<span class="sd">            The primitive to use to set the Item&#39;s field values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Add presentation context ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">presentation_context_id</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">context_id</span>

        <span class="c1"># Add reason</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">result_reason</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">result</span>

        <span class="c1"># Add transfer syntax</span>
        <span class="n">transfer_syntax</span> <span class="o">=</span> <span class="n">TransferSyntaxSubItem</span><span class="p">()</span>
        <span class="n">transfer_syntax</span><span class="o">.</span><span class="n">transfer_syntax_name</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">transfer_syntax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transfer_syntax_sub_item</span> <span class="o">=</span> <span class="p">[</span><span class="n">transfer_syntax</span><span class="p">]</span></div>

<div class="viewcode-block" id="PresentationContextItemAC.to_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.PresentationContextItemAC.html#pynetdicom.pdu.PresentationContextItemAC.to_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">to_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a PresentationContext primitive from the current Item.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        presentation.PresentationContext</span>
<span class="sd">            The primitive representation of the current Item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">primitive</span> <span class="o">=</span> <span class="n">PresentationContext</span><span class="p">()</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">context_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">presentation_context_id</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_reason</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">add_transfer_syntax</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">transfer_syntax_sub_item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">transfer_syntax_name</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">primitive</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">context_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Presentation Context ID* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">presentation_context_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of ((offset, length), attr_name, callable, [args]), where</span>

<span class="sd">            - offset is the byte offset to start at</span>
<span class="sd">            - length is how many bytes to slice (if None then will slice to the</span>
<span class="sd">              end of the data),</span>
<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is a decoding function that returns the decoded value,</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span>
                <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                <span class="s1">&#39;presentation_context_id&#39;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_unpack</span><span class="p">,</span>
                <span class="p">[</span><span class="n">UNPACK_UCHAR</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="p">(</span>
                <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                <span class="s1">&#39;result_reason&#39;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_unpack</span><span class="p">,</span>
                <span class="p">[</span><span class="n">UNPACK_UCHAR</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="p">(</span>
                <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="s1">&#39;transfer_syntax_sub_item&#39;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_generate_items</span><span class="p">,</span>
                <span class="p">[]</span>
            <span class="p">)</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of (attr_name, callable, [args]), where</span>

<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is an encoding function that returns bytes</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;item_type&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;item_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;presentation_context_id&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;result_reason&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;transfer_syntax_sub_item&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_encode_items</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">transfer_syntax_sub_item</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">4</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transfer_syntax_sub_item</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">4</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">result</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Result/reason* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_reason</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">result_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a string describing the result.&quot;&quot;&quot;</span>
        <span class="n">_result</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">0</span> <span class="p">:</span> <span class="s1">&#39;Accepted&#39;</span><span class="p">,</span>
            <span class="mi">1</span> <span class="p">:</span> <span class="s1">&#39;User Rejection&#39;</span><span class="p">,</span>
            <span class="mi">2</span> <span class="p">:</span> <span class="s1">&#39;Provider Rejection&#39;</span><span class="p">,</span>
            <span class="mi">3</span> <span class="p">:</span> <span class="s1">&#39;Abstract Syntax Not Supported&#39;</span><span class="p">,</span>
            <span class="mi">4</span> <span class="p">:</span> <span class="s1">&#39;Transfer Syntax Not Supported&#39;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">_result</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">result_reason</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of the Item.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Presentation Context (AC) Item</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item type:   0x</span><span class="si">{0:02x}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Context ID: </span><span class="si">{0:d}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">presentation_context_id</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Result/Reason: </span><span class="si">{0!s}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">result_str</span><span class="p">)</span>

        <span class="n">item_str</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{0!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transfer_syntax</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;  +  </span><span class="si">{0!s}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">item_str</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">s</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">transfer_syntax</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Transfer Syntax*, if available.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pydicom.uid.UID or None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">transfer_syntax_sub_item</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">transfer_syntax_sub_item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">transfer_syntax_name</span>

        <span class="k">return</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="UserInformationItem"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.UserInformationItem.html#pynetdicom.pdu.UserInformationItem">[docs]</a><span class="k">class</span> <span class="nc">UserInformationItem</span><span class="p">(</span><span class="n">PDUItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A User Information Item.</span>

<span class="sd">    Used by the association requestor and acceptor to include user information</span>
<span class="sd">    in the association negotiation.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    async_ops_window : pdu_items.AsynchronousOperationsWindowSubItem or None</span>
<span class="sd">        The *Asynchronous Operations Window Sub-item* or None if not present.</span>
<span class="sd">    common_ext_neg : list of pdu_items.SOPClassCommonExtendedNegotiationSubItem</span>
<span class="sd">        The *SOP Class Common Extended Negotiation Sub-item(s)*.</span>
<span class="sd">    ext_neg : list of pdu_items.SOPClassExtendedNegotiationSubItem</span>
<span class="sd">        The *SOP Class Extended Negotiation Sub-item(s)*.</span>
<span class="sd">    implementation_class_uid : pydicom.uid.UID or None</span>
<span class="sd">        The implementation class UID from the *Implementation Class UID</span>
<span class="sd">        Sub-item*, or None if not present.</span>
<span class="sd">    implementation_version_name : bytes or None</span>
<span class="sd">        The implementation version name for the *Implementation Version Name</span>
<span class="sd">        Sub-item*, or None if not present.</span>
<span class="sd">    item_length : int</span>
<span class="sd">        The number of bytes from the first byte following the *Item Length*</span>
<span class="sd">        field to the last byte of the Item.</span>
<span class="sd">    item_type : int</span>
<span class="sd">        The *Item Type* field value (0x50).</span>
<span class="sd">    maximum_length : int or None</span>
<span class="sd">        The maximum length received value for the *Maximum Length Sub-item*, or</span>
<span class="sd">        None if not present.</span>
<span class="sd">    role_selection : list of pdu_items.SCP_SCU_RoleSelectionSubItem</span>
<span class="sd">        The *SCP/SCU Role Selection Sub-item(s)*.</span>
<span class="sd">    user_identity : pdu_items.UserIdentitySubItemRQ or pdu_items.UserIdentitySubItemAC or None</span>
<span class="sd">        The *User Identity Sub-item* (RQ or AC), or None if not present.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    A User Information Item requires the following parameters:</span>

<span class="sd">    * Item type (1, fixed, 0x50)</span>
<span class="sd">    * Item length (1)</span>
<span class="sd">    * User data sub-items (2 or more)</span>

<span class="sd">      * Maximum Length Received Sub-item (1)</span>
<span class="sd">      * Implementation Class UID Sub-item (1)</span>
<span class="sd">      * Optional User Data Sub-items (0 or more)</span>

<span class="sd">    **Encoding**</span>

<span class="sd">    When encoded, a User Information Item has the following structure,</span>
<span class="sd">    taken from Table 9-16 [#]_ (offsets shown with Python indexing). Items are</span>
<span class="sd">    always encoded using Big Endian [#]_.</span>

<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | Offset | Length      | Description                        |</span>
<span class="sd">    +========+=============+====================================+</span>
<span class="sd">    | 0      | 1           | Item type                          |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 1      | 1           | Reserved                           |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 2      | 2           | Item length                        |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 4      | Variable    | User data                          |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>

<span class="sd">    .. [#] DICOM Standard, Part 8, Section</span>
<span class="sd">       `9.3.2.3 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.2.3&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8, Section</span>
<span class="sd">       `9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>

<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="UserInformationItem.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.UserInformationItem.html#pynetdicom.pdu.UserInformationItem.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new User Information Item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="UserInformationItem.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.UserInformationItem.html#pynetdicom.pdu.UserInformationItem.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">primitive</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set up the current Item using User Information primitives.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        primitive : list of User Information primitives</span>
<span class="sd">            Must contain:</span>

<span class="sd">            - MaximumLengthNotification</span>
<span class="sd">            - ImplementationClassUIDNotification</span>

<span class="sd">            May optionally contain one or more:</span>

<span class="sd">            - ImplementationVersionnameNotification</span>
<span class="sd">            - AsynchronousOperationsWindowNegotiation</span>
<span class="sd">            - SCP_SCU_RoleSelectionNegotiation</span>
<span class="sd">            - SOPClassExtendedNegotiation</span>
<span class="sd">            - SOPClassCommonExtendedNegotiation</span>
<span class="sd">            - UserIdentityNegotiation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">primitive</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">from_primitive</span><span class="p">())</span></div>

<div class="viewcode-block" id="UserInformationItem.to_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.UserInformationItem.html#pynetdicom.pdu.UserInformationItem.to_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">to_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of User Information primitives from the current Item.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of User Information primitives</span>
<span class="sd">            Must contain:</span>

<span class="sd">            - MaximumLengthNotification</span>
<span class="sd">            - ImplementationClassUIDNotification</span>

<span class="sd">            May optionally contain one or more:</span>

<span class="sd">            - ImplementationVersionnameNotification</span>
<span class="sd">            - AsynchronousOperationsWindowNegotiation</span>
<span class="sd">            - SCP_SCU_RoleSelectionNegotiation</span>
<span class="sd">            - SOPClassExtendedNegotiation</span>
<span class="sd">            - SOPClassCommonExtendedNegotiation</span>
<span class="sd">            - UserIdentityNegotiation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">primitive</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span><span class="p">:</span>
            <span class="n">primitive</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">to_primitive</span><span class="p">())</span>

        <span class="k">return</span> <span class="n">primitive</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">async_ops_window</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Asynchronous Operations Window Sub-item*, if available.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">AsynchronousOperationsWindowSubItem</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">item</span>

        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">common_ext_neg</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *SOP Class Common Extended Negotiation Sub-items*.&quot;&quot;&quot;</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">SOPClassCommonExtendedNegotiationSubItem</span><span class="p">):</span>
                <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">items</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of ((offset, length), attr_name, callable, [args]), where</span>

<span class="sd">            - offset is the byte offset to start at</span>
<span class="sd">            - length is how many bytes to slice (if None then will slice to the</span>
<span class="sd">              end of the data),</span>
<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is a decoding function that returns the decoded value,</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;user_data&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_generate_items</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of (attr_name, callable, [args]), where</span>

<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is an encoding function that returns bytes</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;item_type&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;item_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;user_data&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_encode_items</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ext_neg</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *SOP Class Extended Negotiation Sub-items*.&quot;&quot;&quot;</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">SOPClassExtendedNegotiationSubItem</span><span class="p">):</span>
                <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">items</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">implementation_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Implementation Class UID* field value, if available.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">ImplementationClassUIDSubItem</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">item</span><span class="o">.</span><span class="n">implementation_class_uid</span>

        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">implementation_version_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Implementation Version Name* field value, if available.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">ImplementationVersionNameSubItem</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">item</span><span class="o">.</span><span class="n">implementation_version_name</span>

        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="n">length</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span><span class="p">:</span>
            <span class="n">length</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">length</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">maximum_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Maximum Length Received* field value, if available.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">MaximumLengthSubItem</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">item</span><span class="o">.</span><span class="n">maximum_length_received</span>

        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">role_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *SCP/SCU Role Selection Sub-items*.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict</span>
<span class="sd">            The SCP/SCU Role Selection items as {item.uid : item}.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">roles</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">SCP_SCU_RoleSelectionSubItem</span><span class="p">):</span>
                <span class="n">roles</span><span class="p">[</span><span class="n">item</span><span class="o">.</span><span class="n">uid</span><span class="p">]</span> <span class="o">=</span> <span class="n">item</span>

        <span class="k">return</span> <span class="n">roles</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of the Item.&quot;&quot;&quot;</span>
        <span class="c1"># FIXME: Indent not applying correctly to user_data</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot; User information item</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item type: 0x</span><span class="si">{0:02x}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item length: </span><span class="si">{0:d}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  User Data:</span><span class="se">\n</span><span class="s2"> &quot;</span>

        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  </span><span class="si">{0!s}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">s</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">user_identity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *User Identity Sub-item*, if available.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="p">(</span><span class="n">UserIdentitySubItemRQ</span><span class="p">,</span>
                                 <span class="n">UserIdentitySubItemAC</span><span class="p">)):</span>
                <span class="k">return</span> <span class="n">item</span>

        <span class="k">return</span> <span class="kc">None</span></div>


<span class="c1">## Presentation Context Item sub-items</span>
<div class="viewcode-block" id="AbstractSyntaxSubItem"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.AbstractSyntaxSubItem.html#pynetdicom.pdu.AbstractSyntaxSubItem">[docs]</a><span class="k">class</span> <span class="nc">AbstractSyntaxSubItem</span><span class="p">(</span><span class="n">PDUItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An Abstract Syntax Sub-item.</span>

<span class="sd">    An Abstract Syntax is the specification of data elements with associated</span>
<span class="sd">    semantics. In particular it allows communicating Application Entities to</span>
<span class="sd">    negotiate an agreed set of DICOM Data Elements and/or Information Object</span>
<span class="sd">    Class definitions [#]_.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    abstract_syntax_name : pydicom.uid.UID or None</span>
<span class="sd">        The *Abstract Syntax Name* field value.</span>
<span class="sd">    item_length : int</span>
<span class="sd">        The number of bytes from the first byte following the *Item Length*</span>
<span class="sd">        field to the last byte of the Item.</span>
<span class="sd">    item_type : int</span>
<span class="sd">        The *Item Type* field value (0x30).</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    An Abstract Syntax Sub-item requires the following parameters:</span>

<span class="sd">        * Item type (1, fixed value, 0x30)</span>
<span class="sd">        * Item length (1)</span>
<span class="sd">        * Abstract syntax name (1)</span>

<span class="sd">    **Abstract Syntax Names**</span>

<span class="sd">    Abstract Syntax Names are OSI Object Identifiers in a numeric form as</span>
<span class="sd">    defined by ISO 8824 [#]_. They may be either DICOM registered or privately</span>
<span class="sd">    defined. They&#39;re encoded as an ISO 646:1990-Basic G0 Set Numeric String of</span>
<span class="sd">    bytes (characters 0-9), separated by the character ``.`` (0x2e) [#]_ and</span>
<span class="sd">    shall not exceed 64 total characters. No separator or padding shall be</span>
<span class="sd">    present before the first digit of the first component or after the last</span>
<span class="sd">    digit of the last component.</span>

<span class="sd">    **Encoding**</span>

<span class="sd">    When encoded, an Abstract Syntax Item has the following structure,</span>
<span class="sd">    taken from Table 9-14 [#]_ (offsets shown with Python indexing). Items are</span>
<span class="sd">    always encoded using Big Endian [#]_. Encoding of the Abstract Syntax Name</span>
<span class="sd">    parameter follows the rules in Part 8, Annex F.</span>

<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | Offset | Length      | Description                        |</span>
<span class="sd">    +========+=============+====================================+</span>
<span class="sd">    | 0      | 1           | Item type                          |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 1      | 1           | Reserved                           |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 2      | 2           | Item length                        |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 4      | Variable    | Abstract syntax name               |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Annex B &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#chapter_B&gt;`_</span>
<span class="sd">    .. [#] `ISO/IEC 8824-1:2015 &lt;https://www.iso.org/standard/68350.html&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Annex F &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#chapter_F&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.2.2.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.2.2.1&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="AbstractSyntaxSubItem.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.AbstractSyntaxSubItem.html#pynetdicom.pdu.AbstractSyntaxSubItem.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new Abstract Syntax Item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">abstract_syntax_name</span> <span class="o">=</span> <span class="kc">None</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">abstract_syntax</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Abstract Syntax Name* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">abstract_syntax_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">abstract_syntax_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Abstract Syntax Name* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_abstract_syntax_name</span>

    <span class="nd">@abstract_syntax_name</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">abstract_syntax_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the *Abstract Syntax Name* field value.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : pydicom.uid.UID, bytes or str</span>
<span class="sd">            The value for the Abstract Syntax Name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UID</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Abstract Syntax must be a pydicom.uid.UID, &#39;</span>
                            <span class="s1">&#39;str or bytes&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_abstract_syntax_name</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of ((offset, length), attr_name, callable, [args]), where</span>

<span class="sd">            - offset is the byte offset to start at</span>
<span class="sd">            - length is how many bytes to slice (if None then will slice to the</span>
<span class="sd">              end of the data),</span>
<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is a decoding function that returns the decoded value,</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;abstract_syntax_name&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_uid_bytes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of (attr_name, callable, [args]), where</span>

<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is an encoding function that returns bytes</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;item_type&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;item_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;abstract_syntax_name&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_encode_uid</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">abstract_syntax_name</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abstract_syntax_name</span><span class="p">)</span>

        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of the Item.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Abstract Syntax Sub-item</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item type: 0x</span><span class="si">{0:02x}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;  Syntax name: =</span><span class="si">{0!s}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abstract_syntax</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">s</span></div>


<div class="viewcode-block" id="TransferSyntaxSubItem"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.TransferSyntaxSubItem.html#pynetdicom.pdu.TransferSyntaxSubItem">[docs]</a><span class="k">class</span> <span class="nc">TransferSyntaxSubItem</span><span class="p">(</span><span class="n">PDUItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A Transfer Syntax Sub-item.</span>

<span class="sd">    A Transfer Syntax is a set of encoding rules able to unambiguously</span>
<span class="sd">    represent the data elements defined by one or more Abstract Syntaxes [#]_.</span>
<span class="sd">    In particular, it allows communicating Application Entities to agree on the</span>
<span class="sd">    encoding techniques they are able to support (e.g. byte ordering,</span>
<span class="sd">    compression, etc).</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    item_length : int</span>
<span class="sd">        The number of bytes from the first byte following the *Item Length*</span>
<span class="sd">        field to the last byte of the Item.</span>
<span class="sd">    item_type : int</span>
<span class="sd">        The *Item Type* field value (0x40).</span>
<span class="sd">    transfer_syntax : pydicom.uid.UID or None</span>
<span class="sd">        The *Transfer Syntax Name* field value.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    A Transfer Syntax Sub-item requires the following parameters:</span>

<span class="sd">        * Item type (1, fixed value, 0x40)</span>
<span class="sd">        * Item length (1)</span>
<span class="sd">        * Transfer syntax name (1 or more)</span>

<span class="sd">    **Transfer Syntax Names**</span>

<span class="sd">    Transfer Syntax Names are OSI Object Identifiers in a numeric form as</span>
<span class="sd">    defined by ISO 8824 [#]_. They may be either DICOM registered or privately</span>
<span class="sd">    defined. They&#39;re encoded as an ISO 646:1990-Basic G0 Set Numeric String of</span>
<span class="sd">    bytes (characters 0-9), separated by the character ``.`` (0x2e) [#]_ and</span>
<span class="sd">    shall not exceed 64 total characters. No separator or padding shall be</span>
<span class="sd">    present before the first digit of the first component or after the last</span>
<span class="sd">    digit of the last component.</span>

<span class="sd">    **Encoding**</span>

<span class="sd">    When encoded, a Transfer Syntax Item has the following structure,</span>
<span class="sd">    taken from Table 9-15 [#]_ (offsets shown with Python indexing). Items are</span>
<span class="sd">    always encoded using Big Endian [#]_. Encoding of the Transfer Syntax Name</span>
<span class="sd">    parameter follows the rules in Part 8, Annex F.</span>

<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | Offset | Length      | Description                        |</span>
<span class="sd">    +========+=============+====================================+</span>
<span class="sd">    | 0      | 1           | Item type                          |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 1      | 1           | Reserved                           |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 2      | 2           | Item length                        |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 4      | Variable    | Transfer syntax name               |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Annex B &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#chapter_B&gt;`_</span>
<span class="sd">    .. [#] `ISO/IEC 8824-1:2015 &lt;https://www.iso.org/standard/68350.html&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Annex F &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#chapter_F&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.2.2.2 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.2.2.2&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="TransferSyntaxSubItem.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.TransferSyntaxSubItem.html#pynetdicom.pdu.TransferSyntaxSubItem.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new Abstract Syntax Item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transfer_syntax_name</span> <span class="o">=</span> <span class="kc">None</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of ((offset, length), attr_name, callable, [args]), where</span>

<span class="sd">            - offset is the byte offset to start at</span>
<span class="sd">            - length is how many bytes to slice (if None then will slice to the</span>
<span class="sd">              end of the data),</span>
<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is a decoding function that returns the decoded value,</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;transfer_syntax_name&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_uid_bytes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of (attr_name, callable, [args]), where</span>

<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is an encoding function that returns bytes</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;item_type&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;item_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;transfer_syntax_name&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_encode_uid</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">transfer_syntax_name</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transfer_syntax_name</span><span class="p">)</span>

        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of the Item.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Transfer syntax sub item</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item type: 0x</span><span class="si">{0:02x}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;  Transfer syntax name: =</span><span class="si">{0!s}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">transfer_syntax_name</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">s</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">transfer_syntax</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Transfer Syntax Name* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">transfer_syntax_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">transfer_syntax_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Transfer Syntax Name* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_syntax_name</span>

    <span class="nd">@transfer_syntax_name</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">transfer_syntax_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the *Transfer Syntax Name* field value.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : pydicom.uid.UID, bytes or str</span>
<span class="sd">            The value for the Transfer Syntax Name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UID</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Transfer syntax must be a pydicom.uid.UID, &#39;</span>
                            <span class="s1">&#39;bytes or str&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_syntax_name</span> <span class="o">=</span> <span class="n">value</span></div>


<span class="c1">## User Information Item sub-items</span>
<div class="viewcode-block" id="MaximumLengthSubItem"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.MaximumLengthSubItem.html#pynetdicom.pdu.MaximumLengthSubItem">[docs]</a><span class="k">class</span> <span class="nc">MaximumLengthSubItem</span><span class="p">(</span><span class="n">PDUItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A Maximum Length Sub-item.</span>

<span class="sd">    The Maximum Length Sub-item allows the receivers to limit the size of the</span>
<span class="sd">    Presentation Data Values List parameters of each P-DATA PDU.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    item_length : int</span>
<span class="sd">        The number of bytes from the first byte following the *Item Length*</span>
<span class="sd">        field to the last byte of the Item.</span>
<span class="sd">    item_type : int</span>
<span class="sd">        The *Item Type* field value (0x51).</span>
<span class="sd">    maximum_length_received : int</span>
<span class="sd">        The *Maximum Length Received* field value.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    A Maximum Length Sub-item requires the following parameters:</span>

<span class="sd">        * Item type (1, fixed, 0x51)</span>
<span class="sd">        * Item length (1)</span>
<span class="sd">        * Maximum length received (1)</span>

<span class="sd">    **Encoding**</span>

<span class="sd">    When encoded, a Maximum Length Sub-item has the following structure,</span>
<span class="sd">    taken from Table D.1-1 [#]_ (offsets shown with Python indexing). Items are</span>
<span class="sd">    always encoded using Big Endian [#]_.</span>

<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | Offset | Length      | Description                        |</span>
<span class="sd">    +========+=============+====================================+</span>
<span class="sd">    | 0      | 1           | Item type                          |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 1      | 1           | Reserved                           |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 2      | 2           | Item length                        |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 4      | 4           | Maximum length received            |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Annex D.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_D.1&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="MaximumLengthSubItem.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.MaximumLengthSubItem.html#pynetdicom.pdu.MaximumLengthSubItem.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new Maximum Length Item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maximum_length_received</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="MaximumLengthSubItem.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.MaximumLengthSubItem.html#pynetdicom.pdu.MaximumLengthSubItem.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">primitive</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the item&#39;s values using a Maximum Length `primitive`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        primitive : pdu_primitives.MaximumLengthNotification</span>
<span class="sd">            The primitive to use to set the Item&#39;s field values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maximum_length_received</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">maximum_length_received</span></div>

<div class="viewcode-block" id="MaximumLengthSubItem.to_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.MaximumLengthSubItem.html#pynetdicom.pdu.MaximumLengthSubItem.to_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">to_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a Maximum Length primitive from the current Item.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pdu_primitives.MaximumLengthNotification</span>
<span class="sd">            The primitive representation of the current Item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">pynetdicom.pdu_primitives</span> <span class="k">import</span> <span class="n">MaximumLengthNotification</span>

        <span class="n">primitive</span> <span class="o">=</span> <span class="n">MaximumLengthNotification</span><span class="p">()</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">maximum_length_received</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maximum_length_received</span>

        <span class="k">return</span> <span class="n">primitive</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of ((offset, length), attr_name, callable, [args]), where</span>

<span class="sd">            - offset is the byte offset to start at</span>
<span class="sd">            - length is how many bytes to slice (if None then will slice to the</span>
<span class="sd">              end of the data),</span>
<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is a decoding function that returns the decoded value,</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span>
                <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="s1">&#39;maximum_length_received&#39;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_unpack</span><span class="p">,</span>
                <span class="p">[</span><span class="n">UNPACK_UINT4</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of (attr_name, callable, [args]), where</span>

<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is an encoding function that returns bytes</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;item_type&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;item_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;maximum_length_received&#39;</span><span class="p">,</span> <span class="n">PACK_UINT4</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mi">4</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of the Item.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Maximum length Sub-item</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item type: 0x</span><span class="si">{0:02x}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Maximum length received: </span><span class="si">{0:d}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_length_received</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">s</span></div>


<div class="viewcode-block" id="ImplementationClassUIDSubItem"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.ImplementationClassUIDSubItem.html#pynetdicom.pdu.ImplementationClassUIDSubItem">[docs]</a><span class="k">class</span> <span class="nc">ImplementationClassUIDSubItem</span><span class="p">(</span><span class="n">PDUItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An Implementation Class UID Sub-item.</span>

<span class="sd">    The Implementation Class UID Sub-item allows communicating Application</span>
<span class="sd">    Entities to identify each other at Association establishment.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    implementation_class_uid : pydicom.uid.UID or None</span>
<span class="sd">        The *Implementation Class UID* field value.</span>
<span class="sd">    item_length : int</span>
<span class="sd">        The number of bytes from the first byte following the *Item Length*</span>
<span class="sd">        field to the last byte of the Item.</span>
<span class="sd">    item_type : int</span>
<span class="sd">        The *Item Type* field value (0x52).</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    An Implementation Class UID Sub-item requires the following parameters:</span>

<span class="sd">        * Item type (1, fixed, 0x52)</span>
<span class="sd">        * Item length (1)</span>
<span class="sd">        * Implementation Class UID (1)</span>

<span class="sd">    **Encoding**</span>

<span class="sd">    When encoded, an Implementation Class UID Sub-item has the following</span>
<span class="sd">    structure, taken from Tables D.3-1 and D.3-2 [1]_ (offsets shown with</span>
<span class="sd">    Python indexing). Items are always encoded using Big Endian [2]_.</span>

<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | Offset | Length      | Description                        |</span>
<span class="sd">    +========+=============+====================================+</span>
<span class="sd">    | 0      | 1           | Item type                          |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 1      | 1           | Reserved                           |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 2      | 2           | Item length                        |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 4      | Variable    | Implementation class UID           |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [1] DICOM Standard, Part 7,</span>
<span class="sd">       `Annex D.3.3.2 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part07.html#sect_D.3.3.2&gt;`_</span>
<span class="sd">    .. [2] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="ImplementationClassUIDSubItem.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.ImplementationClassUIDSubItem.html#pynetdicom.pdu.ImplementationClassUIDSubItem.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new Implementation Class UID Item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">implementation_class_uid</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="ImplementationClassUIDSubItem.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.ImplementationClassUIDSubItem.html#pynetdicom.pdu.ImplementationClassUIDSubItem.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">primitive</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the item&#39;s values using an Implementation Identification</span>
<span class="sd">        primitive.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        primitive : pdu_primitives.ImplementationClassUIDNotification</span>
<span class="sd">            The primitive to use to set the Item&#39;s field values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">implementation_class_uid</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">implementation_class_uid</span></div>

<div class="viewcode-block" id="ImplementationClassUIDSubItem.to_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.ImplementationClassUIDSubItem.html#pynetdicom.pdu.ImplementationClassUIDSubItem.to_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">to_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an Implementation Identification primitive from the current</span>
<span class="sd">        Item.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pdu_primitives.ImplementationClassUIDNotification</span>
<span class="sd">            The primitive representation of the current Item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">pynetdicom.pdu_primitives</span> <span class="k">import</span> <span class="p">(</span>
            <span class="n">ImplementationClassUIDNotification</span>
        <span class="p">)</span>

        <span class="n">primitive</span> <span class="o">=</span> <span class="n">ImplementationClassUIDNotification</span><span class="p">()</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">implementation_class_uid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">implementation_class_uid</span>

        <span class="k">return</span> <span class="n">primitive</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of ((offset, length), attr_name, callable, [args]), where</span>

<span class="sd">            - offset is the byte offset to start at</span>
<span class="sd">            - length is how many bytes to slice (if None then will slice to the</span>
<span class="sd">              end of the data),</span>
<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is a decoding function that returns the decoded value,</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;implementation_class_uid&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_uid_bytes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of (attr_name, callable, [args]), where</span>

<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is an encoding function that returns bytes</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;item_type&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;item_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;implementation_class_uid&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_encode_uid</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">implementation_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Implementation Class UID* field value as a UID.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_implementation_class_uid</span>

    <span class="nd">@implementation_class_uid</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">implementation_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the *Implementation Class UID* field value.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : pydicom.uid.UID, bytes or str</span>
<span class="sd">            The value to set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UID</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;implementation_class_uid must be str, bytes &#39;</span>
                            <span class="s1">&#39;or UID&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_implementation_class_uid</span> <span class="o">=</span> <span class="n">value</span>
        <span class="c1">#if value is not None:</span>
        <span class="c1">#    #self.item_length = len(self.implementation_class_uid)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">implementation_class_uid</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">implementation_class_uid</span><span class="p">)</span>

        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of the Item.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Implementation Class UID Sub-item</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item type: 0x</span><span class="si">{0:02x}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Implementation class UID: &#39;</span><span class="si">{0!s}</span><span class="s2">&#39;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">implementation_class_uid</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">s</span></div>


<div class="viewcode-block" id="ImplementationVersionNameSubItem"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.ImplementationVersionNameSubItem.html#pynetdicom.pdu.ImplementationVersionNameSubItem">[docs]</a><span class="k">class</span> <span class="nc">ImplementationVersionNameSubItem</span><span class="p">(</span><span class="n">PDUItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An Implementation Version Name Sub-item.</span>

<span class="sd">    The Implementation Version Name Sub-item allows communicating Application</span>
<span class="sd">    Entities to identify each other at Association establishment.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    implementation_version_name : bytes or None</span>
<span class="sd">        The *Implementation Version Name* field value, 1 to 16 characters.</span>
<span class="sd">    item_length : int</span>
<span class="sd">        The number of bytes from the first byte following the *Item Length*</span>
<span class="sd">        field to the last byte of the Item.</span>
<span class="sd">    item_type : int</span>
<span class="sd">        The *Item Type* field value (0x55).</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    The Implementation Class UID Sub Item requires the following parameters:</span>

<span class="sd">        * Item type (1, fixed, 0x55)</span>
<span class="sd">        * Item length (1)</span>
<span class="sd">        * Implementation version name (1)</span>

<span class="sd">    **Implementation Version Name**</span>

<span class="sd">    The Implementation Version Name shall be encoded as a string of 1 to 16</span>
<span class="sd">    ISO 646:1990 (basic G0 set) characters.</span>

<span class="sd">    **Encoding**</span>

<span class="sd">    When encoded, an Implementation Version Name Sub-item has the following</span>
<span class="sd">    structure, taken from Tables D.3-3 and D.3-4 [#]_ (offsets shown with</span>
<span class="sd">    Python indexing). Items are always encoded using Big Endian [#]_.</span>

<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | Offset | Length      | Description                        |</span>
<span class="sd">    +========+=============+====================================+</span>
<span class="sd">    | 0      | 1           | Item type                          |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 1      | 1           | Reserved                           |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 2      | 2           | Item length                        |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>
<span class="sd">    | 4      | Variable    | Implementation version name        |</span>
<span class="sd">    +--------+-------------+------------------------------------+</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [#] DICOM Standard, Part 7,</span>
<span class="sd">       `Annex D.3.3.2 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part07.html#sect_D.3.3.2&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="ImplementationVersionNameSubItem.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.ImplementationVersionNameSubItem.html#pynetdicom.pdu.ImplementationVersionNameSubItem.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new Implementation Version Name Item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">implementation_version_name</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="ImplementationVersionNameSubItem.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.ImplementationVersionNameSubItem.html#pynetdicom.pdu.ImplementationVersionNameSubItem.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">primitive</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the item&#39;s values using an Implementation Identification</span>
<span class="sd">        primitive.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        primitive : pdu_primitives.ImplementationVersionNameNotification</span>
<span class="sd">            The primitive to use to set the Item&#39;s field values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">implementation_version_name</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">implementation_version_name</span></div>

<div class="viewcode-block" id="ImplementationVersionNameSubItem.to_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.ImplementationVersionNameSubItem.html#pynetdicom.pdu.ImplementationVersionNameSubItem.to_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">to_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an Implementation Identification primitive from the current</span>
<span class="sd">        Item.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pdu_primitives.ImplementationVersionNameNotification</span>
<span class="sd">            The primitive representation of the current Item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">pynetdicom.pdu_primitives</span> <span class="k">import</span> \
            <span class="n">ImplementationVersionNameNotification</span>

        <span class="n">prim</span> <span class="o">=</span> <span class="n">ImplementationVersionNameNotification</span><span class="p">()</span>
        <span class="n">prim</span><span class="o">.</span><span class="n">implementation_version_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">implementation_version_name</span>

        <span class="k">return</span> <span class="n">prim</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of ((offset, length), attr_name, callable, [args]), where</span>

<span class="sd">            - offset is the byte offset to start at</span>
<span class="sd">            - length is how many bytes to slice (if None then will slice to the</span>
<span class="sd">              end of the data),</span>
<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is a decoding function that returns the decoded value,</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;implementation_version_name&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_bytes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of (attr_name, callable, [args]), where</span>

<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is an encoding function that returns bytes</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;item_type&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;item_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;implementation_version_name&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_bytes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">implementation_version_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Implementation Version Name* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_implementation_version_name</span>

    <span class="nd">@implementation_version_name</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">implementation_version_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the *Implementation Version Name* field value.&quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">codecs</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s1">&#39;ascii&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_implementation_version_name</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">implementation_version_name</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">implementation_version_name</span><span class="p">)</span>

        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of the Item.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Implementation Version Name Sub-item</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item type: 0x</span><span class="si">{0:02x}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Implementation version name: </span><span class="si">{0!s}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">implementation_version_name</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">s</span></div>


<div class="viewcode-block" id="AsynchronousOperationsWindowSubItem"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.AsynchronousOperationsWindowSubItem.html#pynetdicom.pdu.AsynchronousOperationsWindowSubItem">[docs]</a><span class="k">class</span> <span class="nc">AsynchronousOperationsWindowSubItem</span><span class="p">(</span><span class="n">PDUItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An Asynchronous Operations Window Sub-item.</span>

<span class="sd">    Represents the Asynchronous Operations Window Sub Item used in</span>
<span class="sd">    A-ASSOCIATE-RQ and A-ASSOCIATE-AC PDUs.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    item_length : int</span>
<span class="sd">        The number of bytes from the first byte following the *Item Length*</span>
<span class="sd">        field to the last byte of the Item.</span>
<span class="sd">    item_type : int</span>
<span class="sd">        The *Item Type* field value (0x53).</span>
<span class="sd">    maximum_number_operations_invoked : int or None</span>
<span class="sd">        The &#39;Maximum Number Operations Invoked&#39; field value.</span>
<span class="sd">    maximum_number_operations_performed : int or None</span>
<span class="sd">        The *Maximum Number Operations Performed* field value.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    An Asynchronous Operations Window Sub-item requires the following</span>
<span class="sd">    parameters:</span>

<span class="sd">        * Item type (1, fixed, 0x53)</span>
<span class="sd">        * Item length (1)</span>
<span class="sd">        * Maximum number of operations invoked (1)</span>
<span class="sd">        * Maximum number of operations performed (1)</span>

<span class="sd">    **Encoding**</span>

<span class="sd">    When encoded, an Asynchronous Operations Window Sub-item has the following</span>
<span class="sd">    structure, taken from Tables D.3-7 and D.3-8 [#]_ (offsets shown with</span>
<span class="sd">    Python indexing). Items are always encoded using Big Endian [#]_.</span>

<span class="sd">    +--------+-------------+-------------------------------------+</span>
<span class="sd">    | Offset | Length      | Description                         |</span>
<span class="sd">    +========+=============+=====================================+</span>
<span class="sd">    | 0      | 1           | Item type                           |</span>
<span class="sd">    +--------+-------------+-------------------------------------+</span>
<span class="sd">    | 1      | 1           | Reserved                            |</span>
<span class="sd">    +--------+-------------+-------------------------------------+</span>
<span class="sd">    | 2      | 2           | Item length                         |</span>
<span class="sd">    +--------+-------------+-------------------------------------+</span>
<span class="sd">    | 4      | 2           | Maximum number operations invoked   |</span>
<span class="sd">    +--------+-------------+-------------------------------------+</span>
<span class="sd">    | 6      | 2           | Maximum number operations performed |</span>
<span class="sd">    +--------+-------------+-------------------------------------+</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [#] DICOM Standard, Part 7,</span>
<span class="sd">       `Annex D.3.3.3 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part07.html#sect_D.3.3.3&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="AsynchronousOperationsWindowSubItem.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.AsynchronousOperationsWindowSubItem.html#pynetdicom.pdu.AsynchronousOperationsWindowSubItem.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new Asynchronous Operations Window Item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maximum_number_operations_invoked</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maximum_number_operations_performed</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="AsynchronousOperationsWindowSubItem.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.AsynchronousOperationsWindowSubItem.html#pynetdicom.pdu.AsynchronousOperationsWindowSubItem.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">primitive</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the item&#39;s values using an Asynchronous Operations Window</span>
<span class="sd">        primitive.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        primitive : pdu_primitives.AsynchronousOperationsWindowNegotiation</span>
<span class="sd">            The primitive to use to set the Item&#39;s field values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maximum_number_operations_invoked</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">primitive</span><span class="o">.</span><span class="n">maximum_number_operations_invoked</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maximum_number_operations_performed</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">primitive</span><span class="o">.</span><span class="n">maximum_number_operations_performed</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="AsynchronousOperationsWindowSubItem.to_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.AsynchronousOperationsWindowSubItem.html#pynetdicom.pdu.AsynchronousOperationsWindowSubItem.to_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">to_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an Asynchronous Operations Window primitive from the current</span>
<span class="sd">        Item.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pdu_primitives.AsynchronousOperationsWindowNegotiation</span>
<span class="sd">            The primitive representation of the current Item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">pynetdicom.pdu_primitives</span> <span class="k">import</span> <span class="p">(</span>
            <span class="n">AsynchronousOperationsWindowNegotiation</span>
        <span class="p">)</span>

        <span class="n">primitive</span> <span class="o">=</span> <span class="n">AsynchronousOperationsWindowNegotiation</span><span class="p">()</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">maximum_number_operations_invoked</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_number_operations_invoked</span>
        <span class="p">)</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">maximum_number_operations_performed</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_number_operations_performed</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">primitive</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of ((offset, length), attr_name, callable, [args]), where</span>

<span class="sd">            - offset is the byte offset to start at</span>
<span class="sd">            - length is how many bytes to slice (if None then will slice to the</span>
<span class="sd">              end of the data),</span>
<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is a decoding function that returns the decoded value,</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span>
                <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                <span class="s1">&#39;maximum_number_operations_invoked&#39;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_unpack</span><span class="p">,</span>
                <span class="p">[</span><span class="n">UNPACK_UINT2</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="p">(</span>
                <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                <span class="s1">&#39;maximum_number_operations_performed&#39;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_unpack</span><span class="p">,</span>
                <span class="p">[</span><span class="n">UNPACK_UINT2</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of (attr_name, callable, [args]), where</span>

<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is an encoding function that returns bytes</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;item_type&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;item_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;maximum_number_operations_invoked&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;maximum_number_operations_performed&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mi">4</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">max_operations_invoked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Maximum Number Operations Invoked* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">maximum_number_operations_invoked</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">max_operations_performed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Maximum Number Operations Performed* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">maximum_number_operations_performed</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of the Item.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Asynchronous Operation Window Sub-item</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item type: 0x</span><span class="si">{0:02x}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Max. number of operations invoked: </span><span class="si">{0:d}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_number_operations_invoked</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Max. number of operations performed: </span><span class="si">{0:d}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_number_operations_performed</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">s</span></div>


<div class="viewcode-block" id="SCP_SCU_RoleSelectionSubItem"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.SCP_SCU_RoleSelectionSubItem.html#pynetdicom.pdu.SCP_SCU_RoleSelectionSubItem">[docs]</a><span class="k">class</span> <span class="nc">SCP_SCU_RoleSelectionSubItem</span><span class="p">(</span><span class="n">PDUItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;An SCP/SCU Role Selection Sub-item.</span>

<span class="sd">    An SCU/SCU Role Selection Sub-item allows communicating Application Entities</span>
<span class="sd">    to negotiate the roles in which they will server for each SOP Class or</span>
<span class="sd">    Meta SOP Class supported on the association.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    item_length : int</span>
<span class="sd">        The number of bytes from the first byte following the *Item Length*</span>
<span class="sd">        field to the last byte of the Item.</span>
<span class="sd">    item_type : int</span>
<span class="sd">        The *Item Type* field value (0x54).</span>
<span class="sd">    scu_role : int or None</span>
<span class="sd">        The *SCU Role* field value, 0 or 1 or None.</span>
<span class="sd">    scp_role : int or None</span>
<span class="sd">        The *SCP Role* field value, 0 or 1 or None.</span>
<span class="sd">    sop_class_uid : pydicom.uid.UID or None</span>
<span class="sd">        The *SOP Class UID* field value.</span>
<span class="sd">    uid_length : int</span>
<span class="sd">        The *UID Length* field value.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    An SCP/SCU Role Selection Sub-item requires the following parameters:</span>

<span class="sd">        * Item type (1, fixed, 0x51)</span>
<span class="sd">        * Item length (1)</span>
<span class="sd">        * UID length (1)</span>
<span class="sd">        * SOP Class UID (1)</span>
<span class="sd">        * SCU role (1)</span>
<span class="sd">        * SCP role (1)</span>

<span class="sd">    **Encoding**</span>

<span class="sd">    When encoded, an SCP/SCU Role Section Sub-item has the following</span>
<span class="sd">    structure, taken from Tables D.3-9 and D.3-10 [#]_ (offsets shown with</span>
<span class="sd">    Python indexing). Items are always encoded using Big Endian [#]_.</span>
<span class="sd">    The SOP Class UID parameter is encoded as a UID as per the rules in</span>
<span class="sd">    Part 5, Section 9.1 (ie NO trailing padding null byte).</span>

<span class="sd">    +----------------+----------+------------------------------------+</span>
<span class="sd">    | Offset         | Length   | Description                        |</span>
<span class="sd">    +================+==========+====================================+</span>
<span class="sd">    | 0              | 1        | Item type                          |</span>
<span class="sd">    +----------------+----------+------------------------------------+</span>
<span class="sd">    | 1              | 1        | Reserved                           |</span>
<span class="sd">    +----------------+----------+------------------------------------+</span>
<span class="sd">    | 2              | 2        | Item length                        |</span>
<span class="sd">    +----------------+----------+------------------------------------+</span>
<span class="sd">    | 4              | 2        | UID length                         |</span>
<span class="sd">    +----------------+----------+------------------------------------+</span>
<span class="sd">    | 6              | Variable | SOP class UID                      |</span>
<span class="sd">    +----------------+----------+------------------------------------+</span>
<span class="sd">    | 6 + UID length | 1        | SCP role                           |</span>
<span class="sd">    +----------------+----------+------------------------------------+</span>
<span class="sd">    | 7 + UID length | 1        | SCU role                           |</span>
<span class="sd">    +----------------+----------+------------------------------------+</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [#] DICOM Standard, Part 7,</span>
<span class="sd">       `Annex D.3.3.4 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part07.html#sect_D.3.3.4&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="SCP_SCU_RoleSelectionSubItem.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.SCP_SCU_RoleSelectionSubItem.html#pynetdicom.pdu.SCP_SCU_RoleSelectionSubItem.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new SCP/SCU Role Selection Item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_uid_length</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scu_role</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scp_role</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="SCP_SCU_RoleSelectionSubItem.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.SCP_SCU_RoleSelectionSubItem.html#pynetdicom.pdu.SCP_SCU_RoleSelectionSubItem.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">primitive</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the item&#39;s values using an SCP/SCU Role Selection primitive.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        primitive : pdu_primitives.SCP_SCU_RoleSelectionNegotiation</span>
<span class="sd">            The primitive to use to set the Item&#39;s field values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">sop_class_uid</span>
        <span class="k">if</span> <span class="n">primitive</span><span class="o">.</span><span class="n">scu_role</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scu_role</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">primitive</span><span class="o">.</span><span class="n">scu_role</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scu_role</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">primitive</span><span class="o">.</span><span class="n">scp_role</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scp_role</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">primitive</span><span class="o">.</span><span class="n">scp_role</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scp_role</span> <span class="o">=</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="SCP_SCU_RoleSelectionSubItem.to_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.SCP_SCU_RoleSelectionSubItem.html#pynetdicom.pdu.SCP_SCU_RoleSelectionSubItem.to_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">to_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an SCP/SCU Role Selection primitive from the current Item.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pdu_primitives.SCP_SCU_RoleSelectionNegotiation</span>
<span class="sd">            The primitive representation of the current Item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">pynetdicom.pdu_primitives</span> <span class="k">import</span> <span class="n">SCP_SCU_RoleSelectionNegotiation</span>

        <span class="n">primitive</span> <span class="o">=</span> <span class="n">SCP_SCU_RoleSelectionNegotiation</span><span class="p">()</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">sop_class_uid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">scu_role</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scu_role</span><span class="p">)</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">scp_role</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scp_role</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">primitive</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Yield tuples that contain field decoders.</span>

<span class="sd">        We use a generator because some of the offset values aren&#39;t known until</span>
<span class="sd">        a precursor field has been decoded.</span>

<span class="sd">        Yields</span>
<span class="sd">        -------</span>
<span class="sd">        tuple</span>
<span class="sd">            A list of ((offset, length), attr_name, callable, [args]), where</span>

<span class="sd">            - offset is the byte offset to start at</span>
<span class="sd">            - length is how many bytes to slice (if None then will slice to the</span>
<span class="sd">              end of the data),</span>
<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is a decoding function that returns the decoded value,</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
            <span class="s1">&#39;_uid_length&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_unpack</span><span class="p">,</span>
            <span class="p">[</span><span class="n">UNPACK_UINT2</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_uid_length</span><span class="p">),</span>
            <span class="s1">&#39;sop_class_uid&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_uid_bytes</span><span class="p">,</span>
            <span class="p">[]</span>
        <span class="p">)</span>

        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">6</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_uid_length</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="s1">&#39;scu_role&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_unpack</span><span class="p">,</span>
            <span class="p">[</span><span class="n">UNPACK_UCHAR</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">7</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_uid_length</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="s1">&#39;scp_role&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_unpack</span><span class="p">,</span>
            <span class="p">[</span><span class="n">UNPACK_UCHAR</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of (attr_name, callable, [args]), where</span>

<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is an encoding function that returns bytes</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;item_type&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;item_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;uid_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;sop_class_uid&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_encode_uid</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;scu_role&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;scp_role&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mi">4</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">uid_length</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">scu</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *SCU Role* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scu_role</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">scu_role</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *SCU Role* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scu_role</span>

    <span class="nd">@scu_role</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">scu_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the *SCU Role* field value.&quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;SCU Role parameter value must be 0 or 1&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_scu_role</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">scp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *SCP Role* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scp_role</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">scp_role</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *SCP Role* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scp_role</span>

    <span class="nd">@scp_role</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">scp_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the *SCP Role* field value.&quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;SCP Role parameter value must be 0 or 1&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_scp_role</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sop_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *SOP Class UID* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sop_class_uid</span>

    <span class="nd">@sop_class_uid</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">sop_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the SOP class uid.&quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;sop_class_uid must be str, bytes or &#39;</span>
                            <span class="s1">&#39;pydicom.uid.UID&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_sop_class_uid</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of the Item.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;SCP/SCU Role Selection Sub-item</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item type: 0x</span><span class="si">{0:02x}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  UID length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uid_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  SOP Class UID: </span><span class="si">{0!s}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uid</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  SCU Role: </span><span class="si">{0:d}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scu</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  SCP Role: </span><span class="si">{0:d}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scp</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">s</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *SOP Class UID* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uid_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *UID Length* parameter value.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span><span class="p">)</span>

        <span class="k">return</span> <span class="mi">0</span></div>


<div class="viewcode-block" id="SOPClassExtendedNegotiationSubItem"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.SOPClassExtendedNegotiationSubItem.html#pynetdicom.pdu.SOPClassExtendedNegotiationSubItem">[docs]</a><span class="k">class</span> <span class="nc">SOPClassExtendedNegotiationSubItem</span><span class="p">(</span><span class="n">PDUItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A SOP Class Extended Negotiation Sub-item.</span>

<span class="sd">    A SOP Class Extended Negotation Sub-item allows peer Application Entities</span>
<span class="sd">    to exchange application information defined by specific Service Class</span>
<span class="sd">    specifications [1]_.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    item_length : int</span>
<span class="sd">        The number of bytes from the first byte following the *Item Length*</span>
<span class="sd">        field to the last byte of the Item.</span>
<span class="sd">    item_type : int</span>
<span class="sd">        The *Item Type* field value (0x56).</span>
<span class="sd">    service_class_application_information : bytes</span>
<span class="sd">        The *Service Class Application Information* field value.</span>
<span class="sd">    sop_class_uid : uid</span>
<span class="sd">        The *SOP Class UID* field value.</span>
<span class="sd">    sop_class_uid_length : int</span>
<span class="sd">        The *SOP Class UID Length* field value.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    A SOP Class Extended Negotiation Sub-item requires the following parameters:</span>

<span class="sd">        * Item type (1, fixed, 0x56)</span>
<span class="sd">        * Item length (1)</span>
<span class="sd">        * SOP Class UID length (1)</span>
<span class="sd">        * SOP Class UID (1)</span>
<span class="sd">        * Service class application information</span>

<span class="sd">    **Encoding**</span>

<span class="sd">    When encoded, a SOP Class Extended Negotiation Sub-item has the following</span>
<span class="sd">    structure, taken from Table D.3-11 [1]_ (offsets shown with</span>
<span class="sd">    Python indexing). Items are always encoded using Big Endian [2]_.</span>
<span class="sd">    The SOP Class UID parameter is encoded as a UID as per the rules in</span>
<span class="sd">    Part 5, Section 9.1 (ie NO trailing padding null byte).</span>


<span class="sd">    +----------------+-------------+------------------------------------+</span>
<span class="sd">    | Offset         | Length      | Description                        |</span>
<span class="sd">    +================+=============+====================================+</span>
<span class="sd">    | 0              | 1           | Item type                          |</span>
<span class="sd">    +----------------+-------------+------------------------------------+</span>
<span class="sd">    | 1              | 1           | Reserved                           |</span>
<span class="sd">    +----------------+-------------+------------------------------------+</span>
<span class="sd">    | 2              | 2           | Item length                        |</span>
<span class="sd">    +----------------+-------------+------------------------------------+</span>
<span class="sd">    | 4              | 2           | SOP class UID length               |</span>
<span class="sd">    +----------------+-------------+------------------------------------+</span>
<span class="sd">    | 6              | Variable    | SOP class UID                      |</span>
<span class="sd">    +----------------+-------------+------------------------------------+</span>
<span class="sd">    | 6 + UID length | Variable    | Service class application info     |</span>
<span class="sd">    +----------------+-------------+------------------------------------+</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [1] DICOM Standard, Part 7,</span>
<span class="sd">       `Annex D.3.3.5 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part07.html#sect_D.3.3.5&gt;`_</span>
<span class="sd">    .. [2] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="SOPClassExtendedNegotiationSubItem.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.SOPClassExtendedNegotiationSubItem.html#pynetdicom.pdu.SOPClassExtendedNegotiationSubItem.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new SOP Class Extended Negotiation Item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sop_class_uid_length</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">service_class_application_information</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="SOPClassExtendedNegotiationSubItem.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.SOPClassExtendedNegotiationSubItem.html#pynetdicom.pdu.SOPClassExtendedNegotiationSubItem.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">primitive</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the item&#39;s values using a SOP Class Extended Negotiation</span>
<span class="sd">        primitive.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        primitive : pdu_primitives.SOPClassExtendedNegotiation</span>
<span class="sd">            The primitive to use to set the Item&#39;s field values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">sop_class_uid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">service_class_application_information</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">primitive</span><span class="o">.</span><span class="n">service_class_application_information</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="SOPClassExtendedNegotiationSubItem.to_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.SOPClassExtendedNegotiationSubItem.html#pynetdicom.pdu.SOPClassExtendedNegotiationSubItem.to_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">to_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a SOP Class Extended Negotiation primitive from the current</span>
<span class="sd">        Item.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pdu_primitives.SOPClassExtendedNegotiation</span>
<span class="sd">            The primitive representation of the current Item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">pynetdicom.pdu_primitives</span> <span class="k">import</span> <span class="n">SOPClassExtendedNegotiation</span>

        <span class="n">primitive</span> <span class="o">=</span> <span class="n">SOPClassExtendedNegotiation</span><span class="p">()</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">sop_class_uid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">service_class_application_information</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">service_class_application_information</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">primitive</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">app_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Service Class Application Information* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_class_application_information</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Yield tuples that contain field decoders.</span>

<span class="sd">        We use a generator because some of the offset values aren&#39;t known until</span>
<span class="sd">        a precursor field has been decoded.</span>

<span class="sd">        Yields</span>
<span class="sd">        -------</span>
<span class="sd">        tuple</span>
<span class="sd">            A list of ((offset, length), attr_name, callable, [args]), where</span>

<span class="sd">            - offset is the byte offset to start at</span>
<span class="sd">            - length is how many bytes to slice (if None then will slice to the</span>
<span class="sd">              end of the data),</span>
<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is a decoding function that returns the decoded value,</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
            <span class="s1">&#39;_sop_class_uid_length&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_unpack</span><span class="p">,</span>
            <span class="p">[</span><span class="n">UNPACK_UINT2</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sop_class_uid_length</span><span class="p">),</span>
            <span class="s1">&#39;sop_class_uid&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_uid_bytes</span><span class="p">,</span>
            <span class="p">[]</span>
        <span class="p">)</span>

        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">6</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sop_class_uid_length</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="s1">&#39;service_class_application_information&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_bytes</span><span class="p">,</span>
            <span class="p">[]</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of (attr_name, callable, [args]), where</span>

<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is an encoding function that returns bytes</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;item_type&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;item_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;sop_class_uid_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;sop_class_uid&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_encode_uid</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;service_class_application_information&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_bytes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="n">length</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid_length</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_class_application_information</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">length</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">service_class_application_information</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">length</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sop_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *SOP Class UID* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sop_class_uid</span>

    <span class="nd">@sop_class_uid</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">sop_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the *SOP Class UID* field value.&quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;sop_class_uid must be str, bytes or &#39;</span>
                            <span class="s1">&#39;pydicom.uid.UID&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_sop_class_uid</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sop_class_uid_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *SOP Class UID Length* field value.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span><span class="p">)</span>

        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of the Item.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;SOP Class Extended Negotiation Sub-item</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item type: 0x</span><span class="si">{0:02x}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  SOP class UID length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  SOP class: =</span><span class="si">{0!s}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="c1"># Python 2 compatibility</span>
        <span class="n">app_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_class_application_information</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">app_info</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">app_info</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">x&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">x&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="p">[</span><span class="s1">&#39;</span><span class="si">{0:02x}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">app_info</span><span class="p">])</span>

        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Service class application information: </span><span class="si">{0!s}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">app_info</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">s</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *SOP Class UID* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span></div>


<span class="c1"># Overriden _generate_items, _wrap_generate_items</span>
<div class="viewcode-block" id="SOPClassCommonExtendedNegotiationSubItem"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.SOPClassCommonExtendedNegotiationSubItem.html#pynetdicom.pdu.SOPClassCommonExtendedNegotiationSubItem">[docs]</a><span class="k">class</span> <span class="nc">SOPClassCommonExtendedNegotiationSubItem</span><span class="p">(</span><span class="n">PDUItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A SOP Class Common Extended Negotiation Sub-item.</span>

<span class="sd">    A SOP Class Common Extended Negotiation Sub-item allows Application</span>
<span class="sd">    Entities to exchange application information in a generic non-Service</span>
<span class="sd">    class specific form.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    item_length : int</span>
<span class="sd">        The number of bytes from the first byte following the *Item Length*</span>
<span class="sd">        field to the last byte of the Item.</span>
<span class="sd">    item_type : int</span>
<span class="sd">        The *Item Type* field value (0x57).</span>
<span class="sd">    sub_item_version : int</span>
<span class="sd">        The *Sub Item Version* field value.</span>
<span class="sd">    sop_class_uid_length : int</span>
<span class="sd">        The *SOP Class UID Length* field value.</span>
<span class="sd">    sop_class_uid : pydicom.uid.UID</span>
<span class="sd">        The *SOP Class UID* field value.</span>
<span class="sd">    service_class_uid_length : int</span>
<span class="sd">        The *Service Class UID Length* field value.</span>
<span class="sd">    service_class_uid : pydicom.uid.UID</span>
<span class="sd">        The *Service Class UID* field value.</span>
<span class="sd">    related_general_sop_class_identification_length : int</span>
<span class="sd">        The *Related General SOP Class Identification Length* field value.</span>
<span class="sd">    related_general_sop_class_identification : list of pydicom.uid.UID</span>
<span class="sd">        The UIDs in the *Related General SOP Class UID Identification* field</span>
<span class="sd">        value.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    A SOP Class Common Extended Negotiation Sub-item requires the following</span>
<span class="sd">    parameters:</span>

<span class="sd">        * Item type (1, fixed, 0x57)</span>
<span class="sd">        * Sub-item version (1, fixed, 0x00)</span>
<span class="sd">        * Item length (1)</span>
<span class="sd">        * SOP class UID length (1)</span>
<span class="sd">        * SOP class UID (1)</span>
<span class="sd">        * Service class UID length (1)</span>
<span class="sd">        * Service class UID (1)</span>
<span class="sd">        * Related general SOP class identification length (1)</span>
<span class="sd">        * Related general SOP class identification sub fields (0 or more)</span>

<span class="sd">          * Related general SOP class UID length (1)</span>
<span class="sd">          * Related general SOP class UID (1)</span>

<span class="sd">    **Encoding**</span>

<span class="sd">    When encoded, a SOP Class Common Extended Negotiation Sub-item has the</span>
<span class="sd">    following structure, taken from Table D.3-12 [1]_ (offsets shown</span>
<span class="sd">    with Python indexing). Items are always encoded using Big Endian [2]_.</span>
<span class="sd">    The SOP Class UID, Service Class UID and the UIDs in the Related General</span>
<span class="sd">    SOP Class Identification parameters are encoded as UIDs as per the rules in</span>
<span class="sd">    Part 5, Section 9.1 (ie NO trailing padding null byte).</span>

<span class="sd">    +----------------------+----------+-------------------------------------+</span>
<span class="sd">    | Offset               | Length   | Description                         |</span>
<span class="sd">    +======================+==========+=====================================+</span>
<span class="sd">    | 0                    | 1        | Item type                           |</span>
<span class="sd">    +----------------------+----------+-------------------------------------+</span>
<span class="sd">    | 1                    | 1        | Sub item version                    |</span>
<span class="sd">    +----------------------+----------+-------------------------------------+</span>
<span class="sd">    | 2                    | 2        | Item length                         |</span>
<span class="sd">    +----------------------+----------+-------------------------------------+</span>
<span class="sd">    | 4                    | 2        | SOP class UID length                |</span>
<span class="sd">    +----------------------+----------+-------------------------------------+</span>
<span class="sd">    | 6                    | Variable | SOP class UID                       |</span>
<span class="sd">    +----------------------+----------+-------------------------------------+</span>
<span class="sd">    | 6 + SOP UID length   | 2        | Service class UID length            |</span>
<span class="sd">    +----------------------+----------+-------------------------------------+</span>
<span class="sd">    | 8 + SOP UID length   | Variable | Service class UID                   |</span>
<span class="sd">    +----------------------+----------+-------------------------------------+</span>
<span class="sd">    | 8 + SOP UID length   | 2        | Related general SOP class ID length |</span>
<span class="sd">    | + Service UID length |          |                                     |</span>
<span class="sd">    +----------------------+----------+-------------------------------------+</span>
<span class="sd">    | 10 + SOP UID length  | Variable | Related general SOP class ID        |</span>
<span class="sd">    | + Service UID length |          |                                     |</span>
<span class="sd">    +----------------------+----------+-------------------------------------+</span>

<span class="sd">    The Related General SOP Class Identification field is made up of a number</span>
<span class="sd">    of sub-fields with the following structure, taken from Table D.3-13 [1]_.</span>

<span class="sd">    +--------+-------------+--------------------------------------+</span>
<span class="sd">    | Offset | Length      | Description                          |</span>
<span class="sd">    +========+=============+======================================+</span>
<span class="sd">    | 0      | 2           | Related general SOP class UID length |</span>
<span class="sd">    +--------+-------------+--------------------------------------+</span>
<span class="sd">    | 2      | Variable    | Related general SOP class UID        |</span>
<span class="sd">    +--------+-------------+--------------------------------------+</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [1] DICOM Standard, Part 7,</span>
<span class="sd">       `Annex D.3.3.6 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part07.html#sect_D.3.3.6&gt;`_</span>
<span class="sd">    .. [2] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="SOPClassCommonExtendedNegotiationSubItem.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.SOPClassCommonExtendedNegotiationSubItem.html#pynetdicom.pdu.SOPClassCommonExtendedNegotiationSubItem.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new Implementation Version Name Item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sub_item_version</span> <span class="o">=</span> <span class="mh">0x00</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sop_length</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_service_length</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">service_class_uid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">related_general_sop_class_identification</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="SOPClassCommonExtendedNegotiationSubItem.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.SOPClassCommonExtendedNegotiationSubItem.html#pynetdicom.pdu.SOPClassCommonExtendedNegotiationSubItem.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">primitive</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the item&#39;s values using a SOP Class Common Extended Negotiation</span>
<span class="sd">        primitive.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        primitive : pdu_primitives.SOPClassCommonExtendedNegotiation</span>
<span class="sd">            The primitive to use to set the Item&#39;s field values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">sop_class_uid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">service_class_uid</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">service_class_uid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">related_general_sop_class_identification</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">primitive</span><span class="o">.</span><span class="n">related_general_sop_class_identification</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="SOPClassCommonExtendedNegotiationSubItem.to_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.SOPClassCommonExtendedNegotiationSubItem.html#pynetdicom.pdu.SOPClassCommonExtendedNegotiationSubItem.to_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">to_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an SOP Class Common Extended Negotiation primitive from the</span>
<span class="sd">        current Item.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pdu_primitives.SOPClassCommonExtendedNegotiation</span>
<span class="sd">            The primitive representation of the current Item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">pynetdicom.pdu_primitives</span> <span class="k">import</span> <span class="n">SOPClassCommonExtendedNegotiation</span>

        <span class="n">primitive</span> <span class="o">=</span> <span class="n">SOPClassCommonExtendedNegotiation</span><span class="p">()</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">sop_class_uid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">service_class_uid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_class_uid</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">related_general_sop_class_identification</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">related_general_sop_class_identification</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">primitive</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Yield tuples that contain field decoders.</span>

<span class="sd">        We use a generator because some of the offset values aren&#39;t known until</span>
<span class="sd">        a precursor field has been decoded.</span>

<span class="sd">        Yields</span>
<span class="sd">        -------</span>
<span class="sd">        tuple</span>
<span class="sd">            A list of ((offset, length), attr_name, callable, [args]), where</span>

<span class="sd">            - offset is the byte offset to start at</span>
<span class="sd">            - length is how many bytes to slice (if None then will slice to the</span>
<span class="sd">              end of the data),</span>
<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is a decoding function that returns the decoded value,</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
            <span class="s1">&#39;_sop_length&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_unpack</span><span class="p">,</span>
            <span class="p">[</span><span class="n">UNPACK_UINT2</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sop_length</span><span class="p">),</span>
            <span class="s1">&#39;sop_class_uid&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_uid_bytes</span><span class="p">,</span>
            <span class="p">[]</span>
        <span class="p">)</span>

        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">6</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sop_length</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
            <span class="s1">&#39;_service_length&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_unpack</span><span class="p">,</span>
            <span class="p">[</span><span class="n">UNPACK_UINT2</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">8</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sop_length</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_service_length</span><span class="p">),</span>
            <span class="s1">&#39;service_class_uid&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_uid_bytes</span><span class="p">,</span>
            <span class="p">[]</span>
        <span class="p">)</span>

        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">10</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sop_length</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_service_length</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="s1">&#39;related_general_sop_class_identification&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_generate_items</span><span class="p">,</span>
            <span class="p">[]</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of (attr_name, callable, [args]), where</span>

<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is an encoding function that returns bytes</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;item_type&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;sub_item_version&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;item_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;sop_class_uid_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;sop_class_uid&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_encode_uid</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;service_class_uid_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;service_class_uid&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_encode_uid</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;related_general_sop_class_identification_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;related_general_sop_class_identification&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_list</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="c1"># (None, )</span>
        <span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_generate_items</span><span class="p">(</span><span class="n">bytestream</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Yield Related General SOP Class UIDs from `bytestream`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        bytestream : bytes</span>
<span class="sd">            The encoded related general SOP Class UID data.</span>

<span class="sd">        Yields</span>
<span class="sd">        ------</span>
<span class="sd">        pydicom.uid.UID</span>
<span class="sd">            The related general SOP Class UIDs.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        **Encoding**</span>

<span class="sd">        The Related General SOP Class Identification field is made up of a</span>
<span class="sd">        number of sub-fields with the following structure, taken from</span>
<span class="sd">        Table D.3-13 [#]_.</span>

<span class="sd">        +--------+-------------+--------------------------------------+</span>
<span class="sd">        | Offset | Length      | Description                          |</span>
<span class="sd">        +========+=============+======================================+</span>
<span class="sd">        | 0      | 2           | Related general SOP class UID length |</span>
<span class="sd">        +--------+-------------+--------------------------------------+</span>
<span class="sd">        | 2      | Variable    | Related general SOP class UID        |</span>
<span class="sd">        +--------+-------------+--------------------------------------+</span>

<span class="sd">        References</span>
<span class="sd">        ----------</span>
<span class="sd">        .. [#] DICOM Standard, Part 7,</span>
<span class="sd">           `Annex D.3.3.6 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part07.html#sect_D.3.3.6&gt;`_</span>
<span class="sd">        .. [#] DICOM Standard, Part 8,</span>
<span class="sd">           `Section 9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">bytestream</span><span class="p">[</span><span class="n">offset</span><span class="p">:</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]:</span>
            <span class="n">uid_length</span> <span class="o">=</span> <span class="n">UNPACK_UINT2</span><span class="p">(</span><span class="n">bytestream</span><span class="p">[</span><span class="n">offset</span><span class="p">:</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">2</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">raw_uid</span> <span class="o">=</span> <span class="n">bytestream</span><span class="p">[</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">2</span><span class="p">:</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">uid_length</span><span class="p">]</span>
            <span class="n">stripped_uid_length</span> <span class="o">=</span> <span class="n">uid_length</span>
            <span class="k">if</span> <span class="n">raw_uid</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x00</span><span class="s1">&#39;</span><span class="p">:</span>
                <span class="n">raw_uid</span> <span class="o">=</span> <span class="n">raw_uid</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">stripped_uid_length</span> <span class="o">=</span> <span class="n">uid_length</span> <span class="o">-</span> <span class="mi">1</span>

            <span class="n">uid</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">raw_uid</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">uid</span><span class="p">)</span> <span class="o">==</span> <span class="n">stripped_uid_length</span>
            <span class="k">yield</span> <span class="n">uid</span>
            <span class="n">offset</span> <span class="o">+=</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">uid_length</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid_length</span> <span class="o">+</span>
                <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_class_uid_length</span> <span class="o">+</span>
                <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">related_general_sop_class_identification_length</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">related_general_sop_class_identification</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Related General SOP Class Identification* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_related_general_sop_class_identification</span>

    <span class="nd">@related_general_sop_class_identification</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">related_general_sop_class_identification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the *Related General SOP Class Identification* field value.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value_list : list of pydicom.uid.UID</span>
<span class="sd">            A list of UIDs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_related_general_sop_class_identification</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">value_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;related_general_sop_class_identification &#39;</span>
                                <span class="s1">&#39;must be str, bytes or pydicom.uid.UID&#39;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_related_general_sop_class_identification</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">related_general_sop_class_identification_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Related General SOP Class Identification Length*</span>
<span class="sd">        field value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">length</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">uid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_related_general_sop_class_identification</span><span class="p">:</span>
            <span class="n">length</span> <span class="o">+=</span> <span class="mi">2</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">uid</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">length</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sop_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *SOP Class UID* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sop_class_uid</span>

    <span class="nd">@sop_class_uid</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">sop_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the *SOP Class UID* field value.&quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;sop_class_uid must be str, bytes or &#39;</span>
                            <span class="s1">&#39;pydicom.uid.UID&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_sop_class_uid</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sop_class_uid_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *SOP Class UID Length* field value.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span><span class="p">)</span>

        <span class="k">return</span> <span class="mi">0</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">service_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Service Class UID* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_service_class_uid</span>

    <span class="nd">@service_class_uid</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">service_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the *Service Class UID* field value.&quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;service_class_uid must be str, bytes or &#39;</span>
                            <span class="s1">&#39;pydicom.uid.UID&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_service_class_uid</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">service_class_uid_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Service Class UID Length* field value.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_class_uid</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">service_class_uid</span><span class="p">)</span>

        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of the Item.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;SOP Class Common Extended Negotiation Sub-item</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item type: 0x</span><span class="si">{0:02x}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  SOP class UID length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  SOP class: =</span><span class="si">{0!s}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Service class UID length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">service_class_uid_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Service class UID: =</span><span class="si">{0!s}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">service_class_uid</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Related general SOP class ID length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">related_general_sop_class_identification_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Related general SOP class ID(s):</span><span class="se">\n</span><span class="s2">&quot;</span>

        <span class="k">for</span> <span class="n">uid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">related_general_sop_class_identification</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;    =</span><span class="si">{0!s}</span><span class="s2"> (</span><span class="si">{1!s}</span><span class="s2">)</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">uid</span><span class="p">,</span> <span class="n">uid</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">s</span>

    <span class="k">def</span> <span class="nf">_wrap_generate_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bytestream</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of UID items generated from `bytestream`.&quot;&quot;&quot;</span>
        <span class="n">item_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">uid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_items</span><span class="p">(</span><span class="n">bytestream</span><span class="p">):</span>
            <span class="n">item_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uid</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">item_list</span>

    <span class="k">def</span> <span class="nf">_wrap_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return `uid_list` encoded as bytes.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        uid_list : list of pydicom.uid.UID</span>
<span class="sd">            A list of UIDs.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bytes</span>
<span class="sd">            The UID list encoded as (for each UID in the list):</span>

<span class="sd">            - length of the UID, encoded as 2-byte unsigned int</span>
<span class="sd">            - UID, as ASCII encoded bytes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bytestream</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">uid</span> <span class="ow">in</span> <span class="n">uid_list</span><span class="p">:</span>
            <span class="c1"># UIDs are to be encoded as per normal Part 5 UID encoding rules</span>
            <span class="c1">#   (i.e. that odd length UIDs be null padded to even length)</span>
            <span class="c1"># Related general SOP class UID length</span>
            <span class="n">bytestream</span> <span class="o">+=</span> <span class="n">PACK_UINT2</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">uid</span><span class="p">))</span>
            <span class="c1"># Related general SOP class UID</span>
            <span class="n">bytestream</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_encode_uid</span><span class="p">(</span><span class="n">uid</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">bytestream</span></div>


<div class="viewcode-block" id="UserIdentitySubItemRQ"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.UserIdentitySubItemRQ.html#pynetdicom.pdu.UserIdentitySubItemRQ">[docs]</a><span class="k">class</span> <span class="nc">UserIdentitySubItemRQ</span><span class="p">(</span><span class="n">PDUItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A User Identity (RQ) Sub-item.</span>

<span class="sd">    A User Identity (RQ) Sub-item is used to notify the association acceptor of</span>
<span class="sd">    the user identity of the requestor.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    item_length : int</span>
<span class="sd">        The number of bytes from the first byte following the *Item Length*</span>
<span class="sd">        field to the last byte of the Item.</span>
<span class="sd">    item_type : int</span>
<span class="sd">        The *Item Type* field value (0x58).</span>
<span class="sd">    positive_response_requested : int</span>
<span class="sd">        The *Positive Response Requested* field value.</span>
<span class="sd">    primary_field : bytes</span>
<span class="sd">        The *Primary Field* field value.</span>
<span class="sd">    primary_field_length : int</span>
<span class="sd">        The *Primary Field Length* field value.</span>
<span class="sd">    secondary_field : bytes</span>
<span class="sd">        The *Secondary Field* field value.</span>
<span class="sd">    secondary_field_length : int</span>
<span class="sd">        The *Secondary Field Length* field value.</span>
<span class="sd">    user_identity_type : {1, 2, 3, 4}</span>
<span class="sd">        The *User Identity Type* field value.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    A User Identity (RQ) Sub-item requires the following parameters:</span>

<span class="sd">    * Item type (1, fixed, 0x58)</span>
<span class="sd">    * Item length (1)</span>
<span class="sd">    * User identity type (1)</span>
<span class="sd">    * Positive response requested (1)</span>
<span class="sd">    * Primary field length (1)</span>
<span class="sd">    * Primary field (1)</span>
<span class="sd">    * Secondary field length (1)</span>
<span class="sd">    * Secondary field (only if user identity type = 2)</span>

<span class="sd">    **Encoding**</span>

<span class="sd">    When encoded, a User Identity (RQ) Sub-item has the following</span>
<span class="sd">    structure, taken from Tables D.3-14 [#]_ (offsets shown with</span>
<span class="sd">    Python indexing). Items are always encoded using Big Endian [#]_.</span>

<span class="sd">    +---------------------------+----------+-----------------------------+</span>
<span class="sd">    | Offset                    | Length   | Description                 |</span>
<span class="sd">    +===========================+==========+=============================+</span>
<span class="sd">    | 0                         | 1        | Item type                   |</span>
<span class="sd">    +---------------------------+----------+-----------------------------+</span>
<span class="sd">    | 1                         | 1        | Reserved                    |</span>
<span class="sd">    +---------------------------+----------+-----------------------------+</span>
<span class="sd">    | 2                         | 2        | Item length                 |</span>
<span class="sd">    +---------------------------+----------+-----------------------------+</span>
<span class="sd">    | 4                         | 1        | User identity type          |</span>
<span class="sd">    +---------------------------+----------+-----------------------------+</span>
<span class="sd">    | 5                         | 1        | Positive response requested |</span>
<span class="sd">    +---------------------------+----------+-----------------------------+</span>
<span class="sd">    | 6                         | 2        | Primary field length        |</span>
<span class="sd">    +---------------------------+----------+-----------------------------+</span>
<span class="sd">    | 8                         | Variable | Primary field               |</span>
<span class="sd">    +---------------------------+----------+-----------------------------+</span>
<span class="sd">    | 8 + Primary field length  | 2        | Secondary field length      |</span>
<span class="sd">    +---------------------------+----------+-----------------------------+</span>
<span class="sd">    | 10 + Primary field length | Variable | Secondary field             |</span>
<span class="sd">    +---------------------------+----------+-----------------------------+</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [#] DICOM Standard, Part 7,</span>
<span class="sd">       `Annex D.3.3.7 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part07.html#sect_D.3.3.7&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="UserIdentitySubItemRQ.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.UserIdentitySubItemRQ.html#pynetdicom.pdu.UserIdentitySubItemRQ.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new User Identity (RQ) Item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_identity_type</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">positive_response_requested</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_primary_length</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">primary_field</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_secondary_length</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secondary_field</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span></div>

<div class="viewcode-block" id="UserIdentitySubItemRQ.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.UserIdentitySubItemRQ.html#pynetdicom.pdu.UserIdentitySubItemRQ.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">primitive</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the item&#39;s values using an User Identity primitive.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        primitive : pdu_primitives.UserIdentityNegotiation</span>
<span class="sd">            The primitive to use to set the Item&#39;s field values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_identity_type</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">user_identity_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">positive_response_requested</span> <span class="o">=</span> <span class="p">(</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">primitive</span><span class="o">.</span><span class="n">positive_response_requested</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">primary_field</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">primary_field</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secondary_field</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">secondary_field</span></div>

<div class="viewcode-block" id="UserIdentitySubItemRQ.to_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.UserIdentitySubItemRQ.html#pynetdicom.pdu.UserIdentitySubItemRQ.to_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">to_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an  User Identity primitive from the current Item.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pdu_primitives.UserIdentityNegotiation</span>
<span class="sd">            The primitive representation of the current Item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">pynetdicom.pdu_primitives</span> <span class="k">import</span> <span class="n">UserIdentityNegotiation</span>

        <span class="n">primitive</span> <span class="o">=</span> <span class="n">UserIdentityNegotiation</span><span class="p">()</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">user_identity_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_identity_type</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">positive_response_requested</span> <span class="o">=</span> <span class="p">(</span>
            <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">positive_response_requested</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">primary_field</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary_field</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">secondary_field</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_field</span>

        <span class="k">return</span> <span class="n">primitive</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Yield tuples that contain field decoders.</span>

<span class="sd">        We use a generator because some of the offset values aren&#39;t known until</span>
<span class="sd">        a precursor field has been decoded.</span>

<span class="sd">        Yields</span>
<span class="sd">        -------</span>
<span class="sd">        tuple</span>
<span class="sd">            A list of ((offset, length), attr_name, callable, [args]), where</span>

<span class="sd">            - offset is the byte offset to start at</span>
<span class="sd">            - length is how many bytes to slice (if None then will slice to the</span>
<span class="sd">              end of the data),</span>
<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is a decoding function that returns the decoded value,</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="s1">&#39;user_identity_type&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_unpack</span><span class="p">,</span>
            <span class="p">[</span><span class="n">UNPACK_UCHAR</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="s1">&#39;positive_response_requested&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_unpack</span><span class="p">,</span>
            <span class="p">[</span><span class="n">UNPACK_UCHAR</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
            <span class="s1">&#39;_primary_length&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_unpack</span><span class="p">,</span>
            <span class="p">[</span><span class="n">UNPACK_UINT2</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_primary_length</span><span class="p">),</span>
            <span class="s1">&#39;primary_field&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_bytes</span><span class="p">,</span>
            <span class="p">[]</span>
        <span class="p">)</span>

        <span class="k">yield</span> <span class="p">(</span>
            <span class="p">(</span><span class="mi">10</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_primary_length</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="s1">&#39;secondary_field&#39;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_bytes</span><span class="p">,</span>
            <span class="p">[]</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of (attr_name, callable, [args]), where</span>

<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is an encoding function that returns bytes</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;item_type&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;item_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;user_identity_type&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;positive_response_requested&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;primary_field_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;primary_field&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_bytes</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;secondary_field_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;secondary_field&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_bytes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">id_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *User Identity Type* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_identity_type</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">id_type_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string description of the *User Identity Type* field.&quot;&quot;&quot;</span>
        <span class="n">_types</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span> <span class="p">:</span> <span class="s1">&#39;Username&#39;</span><span class="p">,</span>
            <span class="mi">2</span> <span class="p">:</span> <span class="s1">&#39;Username/Password&#39;</span><span class="p">,</span>
            <span class="mi">3</span> <span class="p">:</span> <span class="s1">&#39;Kerberos&#39;</span><span class="p">,</span>
            <span class="mi">4</span> <span class="p">:</span> <span class="s1">&#39;SAML&#39;</span><span class="p">,</span>
            <span class="mi">5</span> <span class="p">:</span> <span class="s1">&#39;JSON Web Token&#39;</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">_types</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">user_identity_type</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mi">6</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary_field_length</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_field_length</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">primary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Primary Field* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary_field</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">primary_field_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Primary Field Length* field value.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary_field</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">primary_field</span><span class="p">)</span>

        <span class="k">return</span> <span class="mi">0</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">response_requested</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Positive Response Requested* field value as bool.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">positive_response_requested</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">positive_response_requested</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">secondary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Secondary Field* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_field</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">secondary_field_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Secondary Field Length* field value.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_field</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">secondary_field</span><span class="p">)</span>

        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of the Item.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;User Identity (RQ) Sub-item</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item type: 0x</span><span class="si">{0:02x}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  User identity type: </span><span class="si">{0:d}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_identity_type</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Positive response requested: </span><span class="si">{0:d}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">positive_response_requested</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Primary field length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">primary_field_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Primary field: </span><span class="si">{0!s}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">primary_field</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_identity_type</span> <span class="o">==</span> <span class="mh">0x02</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Secondary field length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">secondary_field_length</span><span class="p">)</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Secondary field: </span><span class="si">{0!s}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">secondary_field</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Secondary field length: (not used)</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Secondary field: (not used)</span><span class="se">\n</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">s</span></div>


<div class="viewcode-block" id="UserIdentitySubItemAC"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.UserIdentitySubItemAC.html#pynetdicom.pdu.UserIdentitySubItemAC">[docs]</a><span class="k">class</span> <span class="nc">UserIdentitySubItemAC</span><span class="p">(</span><span class="n">PDUItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A User Identity (AC) Sub-item.</span>

<span class="sd">    A User Identity (AC) Sub-item is used to response with the server identity</span>
<span class="sd">    to the association requestor.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    item_length : int</span>
<span class="sd">        The number of bytes from the first byte following the *Item Length*</span>
<span class="sd">        field to the last byte of the Item.</span>
<span class="sd">    item_type : int</span>
<span class="sd">        The *Item Type* field value (0x59).</span>
<span class="sd">    server_response_length : int</span>
<span class="sd">        The *Server Response Length* field value.</span>
<span class="sd">    server_response : bytes</span>
<span class="sd">        The *Server Response* field value.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    A User Identity (RQ) Sub-item requires the following parameters:</span>

<span class="sd">    * Item type (1, fixed, 0x59)</span>
<span class="sd">    * Item length (1)</span>
<span class="sd">    * Server response length (1)</span>
<span class="sd">    * Server response (1)</span>

<span class="sd">    **Encoding**</span>

<span class="sd">    When encoded, a User Identity (AC) Sub-item has the following</span>
<span class="sd">    structure, taken from Tables D.3-15 [#]_ (offsets shown with</span>
<span class="sd">    Python indexing). Items are always encoded using Big Endian [#]_.</span>

<span class="sd">    +-----------+----------+-----------------------------+</span>
<span class="sd">    | Offset    | Length   | Description                 |</span>
<span class="sd">    +===========+==========+=============================+</span>
<span class="sd">    | 0         | 1        | Item type                   |</span>
<span class="sd">    +-----------+----------+-----------------------------+</span>
<span class="sd">    | 1         | 1        | Reserved                    |</span>
<span class="sd">    +-----------+----------+-----------------------------+</span>
<span class="sd">    | 2         | 2        | Item length                 |</span>
<span class="sd">    +-----------+----------+-----------------------------+</span>
<span class="sd">    | 4         | 2        | Server response length      |</span>
<span class="sd">    +-----------+----------+-----------------------------+</span>
<span class="sd">    | 6         | Variable | Server response             |</span>
<span class="sd">    +-----------+----------+-----------------------------+</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [#] DICOM Standard, Part 7,</span>
<span class="sd">       `Annex D.3.3.7 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part07.html#sect_D.3.3.7&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="UserIdentitySubItemAC.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.UserIdentitySubItemAC.html#pynetdicom.pdu.UserIdentitySubItemAC.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new User Identity (AC) Item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server_response</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="UserIdentitySubItemAC.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.UserIdentitySubItemAC.html#pynetdicom.pdu.UserIdentitySubItemAC.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">primitive</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the item&#39;s values using an User Identity primitive.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        primitive : pdu_primitives.UserIdentityNegotiation</span>
<span class="sd">            The primitive to use to set the Item&#39;s field values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server_response</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">server_response</span></div>

<div class="viewcode-block" id="UserIdentitySubItemAC.to_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.UserIdentitySubItemAC.html#pynetdicom.pdu.UserIdentitySubItemAC.to_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">to_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an  User Identity primitive from the current Item.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pdu_primitives.UserIdentityNegotiation</span>
<span class="sd">            The primitive representation of the current Item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">pynetdicom.pdu_primitives</span> <span class="k">import</span> <span class="n">UserIdentityNegotiation</span>

        <span class="n">primitive</span> <span class="o">=</span> <span class="n">UserIdentityNegotiation</span><span class="p">()</span>
        <span class="n">primitive</span><span class="o">.</span><span class="n">server_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">server_response</span>

        <span class="k">return</span> <span class="n">primitive</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of ((offset, length), attr_name, callable, [args]), where</span>

<span class="sd">            - offset is the byte offset to start at</span>
<span class="sd">            - length is how many bytes to slice (if None then will slice to the</span>
<span class="sd">              end of the data),</span>
<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is a decoding function that returns the decoded value,</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">((</span><span class="mi">6</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;server_response&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_bytes</span><span class="p">,</span> <span class="p">[]),</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of (attr_name, callable, [args]), where</span>

<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is an encoding function that returns bytes</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;item_type&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_pack</span><span class="p">,</span> <span class="p">[</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">]),</span>
            <span class="p">(</span><span class="s1">&#39;item_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;server_response_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT2</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;server_response&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_bytes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">server_response_length</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">response</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Server Response* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">server_response</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">server_response_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Server Response Length* field value.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">server_response</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server_response</span><span class="p">)</span>

        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of the Item.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;User Identity (AC) Sub-item</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item type: 0x</span><span class="si">{0:02x}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Server response length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">server_response_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Server response: </span><span class="si">{0!s}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server_response</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">s</span></div>


<span class="c1">## P-DATA-TF Item</span>
<span class="c1"># Overriden item_type</span>
<div class="viewcode-block" id="PresentationDataValueItem"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.PresentationDataValueItem.html#pynetdicom.pdu.PresentationDataValueItem">[docs]</a><span class="k">class</span> <span class="nc">PresentationDataValueItem</span><span class="p">(</span><span class="n">PDUItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A Presentation Data Value Item.</span>

<span class="sd">    Presentation Data Value (PDV) Items are used to contain DIMSE Messages</span>
<span class="sd">    that have been fragmented into Command and Data fragments [#]_, with each</span>
<span class="sd">    fragment placed into its own PDV Item.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    item_length : int</span>
<span class="sd">        The *Item Length* field value.</span>
<span class="sd">    presentation_context_id : int</span>
<span class="sd">        The *Presentation Context ID* field value.</span>
<span class="sd">    presentation_data_value : bytes</span>
<span class="sd">        The *Presentation Data Value* field value.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    A Presentation Data Value Item requires the following parameters:</span>

<span class="sd">        * Item length (1)</span>
<span class="sd">        * Presentation context ID (1)</span>
<span class="sd">        * Presentation data value (1)</span>

<span class="sd">    **Encoding**</span>

<span class="sd">    When encoded, a Presentation Data Value Item has the following</span>
<span class="sd">    structure, taken from Tables 9.24 [#]_ (offsets shown with</span>
<span class="sd">    Python indexing). Items are always encoded using Big Endian [#]_.</span>

<span class="sd">    +---------------------------+----------+-----------------------------+</span>
<span class="sd">    | Offset                    | Length   | Description                 |</span>
<span class="sd">    +===========================+==========+=============================+</span>
<span class="sd">    | 0                         | 4        | Item length                 |</span>
<span class="sd">    +---------------------------+----------+-----------------------------+</span>
<span class="sd">    | 4                         | 1        | Presentation context ID     |</span>
<span class="sd">    +---------------------------+----------+-----------------------------+</span>
<span class="sd">    | 5                         | Variable | Presentation data value     |</span>
<span class="sd">    +---------------------------+----------+-----------------------------+</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Annex E &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#chapter_E&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.5.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.5.1&gt;`_</span>
<span class="sd">    .. [#] DICOM Standard, Part 8,</span>
<span class="sd">       `Section 9.3.1 &lt;http://dicom.nema.org/medical/dicom/current/output/html/part08.html#sect_9.3.1&gt;`_</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="PresentationDataValueItem.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_items.PresentationDataValueItem.html#pynetdicom.pdu.PresentationDataValueItem.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialise a new Presentation Data Value Item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">presentation_context_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">presentation_data_value</span> <span class="o">=</span> <span class="kc">None</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">context_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Presentation Context ID* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">presentation_context_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Presentation Data Value* field value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">presentation_data_value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_decoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of ((offset, length), attr_name, callable, [args]), where</span>

<span class="sd">            - offset is the byte offset to start at</span>
<span class="sd">            - length is how many bytes to slice (if None then will slice to the</span>
<span class="sd">              end of the data),</span>
<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is a decoding function that returns the decoded value,</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span>
                <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                <span class="s1">&#39;presentation_context_id&#39;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_unpack</span><span class="p">,</span>
                <span class="p">[</span><span class="n">UNPACK_UCHAR</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="p">(</span>
                <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="s1">&#39;presentation_data_value&#39;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_bytes</span><span class="p">,</span>
                <span class="p">[]</span>
            <span class="p">)</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_encoders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an iterable of tuples that contain field decoders.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of tuple</span>
<span class="sd">            A list of (attr_name, callable, [args]), where</span>

<span class="sd">            - attr_name is the name of the attribute corresponding to the field</span>
<span class="sd">            - callable is an encoding function that returns bytes</span>
<span class="sd">            - args is a list of arguments to pass callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;item_length&#39;</span><span class="p">,</span> <span class="n">PACK_UINT4</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;presentation_context_id&#39;</span><span class="p">,</span> <span class="n">PACK_UCHAR</span><span class="p">,</span> <span class="p">[]),</span>
            <span class="p">(</span><span class="s1">&#39;presentation_data_value&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrap_bytes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item&#39;s *Item Length* field value as an int.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">presentation_data_value</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">presentation_data_value</span><span class="p">)</span>

        <span class="k">return</span> <span class="mi">1</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Raise NotImplementedError as Presentation Data Value Items have no</span>
<span class="sd">        *Item Type* field.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">message_control_header_byte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the message control header byte as a formatted string.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">presentation_data_value</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{:08b}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">presentation_data_value</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]))</span>

        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No *Presentation Data Value* field value&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of the Item.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Presentation Value Data Item</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Item length: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_length</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Context ID: </span><span class="si">{0:d}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">presentation_context_id</span><span class="p">)</span>

        <span class="c1"># Python 2 compatibility</span>
        <span class="n">pdv_sample</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">presentation_data_value</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pdv_sample</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">pdv_sample</span> <span class="o">=</span> <span class="p">(</span><span class="nb">format</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="s1">&#39;02x&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">pdv_sample</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pdv_sample</span> <span class="o">=</span> <span class="p">(</span><span class="nb">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;02x&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">pdv_sample</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Data value: 0x</span><span class="si">{0!s}</span><span class="s2"> ...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39; 0x&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pdv_sample</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">s</span></div>


<span class="c1"># PDU items and sub-items, indexed by their type</span>
<span class="n">PDU_ITEM_TYPES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mh">0x10</span> <span class="p">:</span> <span class="n">ApplicationContextItem</span><span class="p">,</span>
    <span class="mh">0x20</span> <span class="p">:</span> <span class="n">PresentationContextItemRQ</span><span class="p">,</span>
    <span class="mh">0x21</span> <span class="p">:</span> <span class="n">PresentationContextItemAC</span><span class="p">,</span>
    <span class="mh">0x30</span> <span class="p">:</span> <span class="n">AbstractSyntaxSubItem</span><span class="p">,</span>
    <span class="mh">0x40</span> <span class="p">:</span> <span class="n">TransferSyntaxSubItem</span><span class="p">,</span>
    <span class="mh">0x50</span> <span class="p">:</span> <span class="n">UserInformationItem</span><span class="p">,</span>
    <span class="mh">0x51</span> <span class="p">:</span> <span class="n">MaximumLengthSubItem</span><span class="p">,</span>
    <span class="mh">0x52</span> <span class="p">:</span> <span class="n">ImplementationClassUIDSubItem</span><span class="p">,</span>
    <span class="mh">0x53</span> <span class="p">:</span> <span class="n">AsynchronousOperationsWindowSubItem</span><span class="p">,</span>
    <span class="mh">0x54</span> <span class="p">:</span> <span class="n">SCP_SCU_RoleSelectionSubItem</span><span class="p">,</span>
    <span class="mh">0x55</span> <span class="p">:</span> <span class="n">ImplementationVersionNameSubItem</span><span class="p">,</span>
    <span class="mh">0x56</span> <span class="p">:</span> <span class="n">SOPClassExtendedNegotiationSubItem</span><span class="p">,</span>
    <span class="mh">0x57</span> <span class="p">:</span> <span class="n">SOPClassCommonExtendedNegotiationSubItem</span><span class="p">,</span>
    <span class="mh">0x58</span> <span class="p">:</span> <span class="n">UserIdentitySubItemRQ</span><span class="p">,</span>
    <span class="mh">0x59</span> <span class="p">:</span> <span class="n">UserIdentitySubItemAC</span>
<span class="p">}</span>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-19, pynetdicom contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>