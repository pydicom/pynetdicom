<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Events &mdash; pynetdicom 1.3.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/pynetdicom.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/pynetdicom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Application Entity" href="ae.html" />
    <link rel="prev" title="Presentation Contexts" href="presentation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> pynetdicom
            <img src="../_static/pydicom_flat_black.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.3.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../verification_service_class.html">Verification Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage_service_class.html">Storage Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../query_retrieve_service_class.html">Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic_worklist_service_class.html">Basic Worklist Management Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../relevant_patient_service_class.html">Relevant Patient Information Query Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../substance_admin_service_class.html">Substance Administration Query Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../non_patient_service_class.html">Non-Patient Object Storage Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../color_palette_service_class.html">Color Palette Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../defined_procedure_service_class.html">Defined Procedure Protocol Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hanging_protocol_service_class.html">Hanging Protocol Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../implant_template_service_class.html">Implant Template Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../display_system_service_class.html">Display System Management Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modality_performed_procedure_step.html">Modality Performed Procedure Step Management</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html">Important Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="presentation.html">Presentation Contexts</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Events</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#notification-events">Notification Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="#intervention-events">Intervention Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="#event-handlers">Event Handlers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ae.html">Application Entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="association.html">Association</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">1.3.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html#v1-3-0">1.3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html#v1-2-0">1.2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html#v1-1-0">1.1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html#v1-0-0">1.0.0</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pynetdicom</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">User Guide</a> &raquo;</li>
      <li>Events</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user/events.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="events">
<span id="user-events"></span><h1>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h1>
<p><em>pynetdicom</em> uses an event-handler system to give the user access to the
data exchanged between different services within an AE as well as the PDUs
and data sent between the local and peer AEs. Two different types of events
are used: <em>notification events</em> and <em>intervention events</em>. Events are imported
using <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">pynetdicom</span> <span class="pre">import</span> <span class="pre">evt</span></code>.</p>
<section id="notification-events">
<span id="events-notification"></span><h2>Notification Events<a class="headerlink" href="#notification-events" title="Permalink to this headline">¶</a></h2>
<p>Notification events are those events where bound event handlers don’t need
to return or yield anything (i.e. the user is <em>notified</em> some event has
occurred). Each notification event can have multiple handlers
bound to it and any exceptions raised by the handlers are caught
and the exception message logged instead. The table below lists the available
notification events.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Event</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_ABORTED</span></code></p></td>
<td><p>Association aborted</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_ACCEPTED</span></code></p></td>
<td><p>Association accepted</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_ACSE_RECV</span></code></p></td>
<td><p>ACSE received a primitive
from the DUL service provider</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_ACSE_SENT</span></code></p></td>
<td><p>ACSE sent a primitive
to the DUL service provider</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_CONN_CLOSE</span></code></p></td>
<td><p>Connection with remote closed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_CONN_OPEN</span></code></p></td>
<td><p>Connection with remote opened</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_DATA_RECV</span></code></p></td>
<td><p>Data received from the peer AE</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_DATA_SENT</span></code></p></td>
<td><p>Data sent to the peer AE</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_DIMSE_RECV</span></code></p></td>
<td><p>DIMSE service received and
decoded a message</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_DIMSE_SENT</span></code></p></td>
<td><p>DIMSE service encoded and
sent a message</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_ESTABLISHED</span></code></p></td>
<td><p>Association established</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_FSM_TRANSITION</span></code></p></td>
<td><p>State machine transitioning</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_PDU_RECV</span></code></p></td>
<td><p>PDU received from the peer AE</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_PDU_SENT</span></code></p></td>
<td><p>PDU sent to the peer AE</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_REJECTED</span></code></p></td>
<td><p>Association rejected</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_RELEASED</span></code></p></td>
<td><p>Association released</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_REQUESTED</span></code></p></td>
<td><p>Association requested</p></td>
</tr>
</tbody>
</table>
</section>
<section id="intervention-events">
<span id="events-intervention"></span><h2>Intervention Events<a class="headerlink" href="#intervention-events" title="Permalink to this headline">¶</a></h2>
<p>Intervention events are those events where the bound event handler must return
or yield certain expected values so that <em>pynetdicom</em> can complete an action
(i.e. user <em>intervention</em> is required).
Each intervention event has only a single handler bound to it at all times.
If the user hasn’t bound their own handler then a default will be
used, which usually returns a negative response (i.e. service request failed,
or extended negotiation ignored). The sole exception is the default handler
for <code class="docutils literal notranslate"><span class="pre">evt.EVT_C_ECHO</span></code> which returns an <code class="docutils literal notranslate"><span class="pre">0x0000</span></code> <em>Success</em> status. The
table below lists the possible intervention events.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 23%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Event</p></th>
<th class="head"><p>Description</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td colspan="3"><p>Association request includes extended negotiation items</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_ASYNC_OPS</span></code></p></td>
<td><p>Association request includes
Asynchronous Operations Window
negotiation item</p></td>
<td><p><a class="reference external" href="../reference/generated/pynetdicom._handlers.doc_handle_async.html">Handler documentation</a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_SOP_COMMON</span></code></p></td>
<td><p>Association request includes
SOP Class Common Extended
negotiation item(s)</p></td>
<td><p><a class="reference external" href="../reference/generated/pynetdicom._handlers.doc_handle_sop_common.html">Handler documentation</a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_SOP_EXTENDED</span></code></p></td>
<td><p>Association request includes
SOP Class Extended negotiation
item(s)</p></td>
<td><p><a class="reference external" href="../reference/generated/pynetdicom._handlers.doc_handle_sop_extended.html">Handler documentation</a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_USER_ID</span></code></p></td>
<td><p>Association request includes
User Identity negotiation item</p></td>
<td><p><a class="reference external" href="../reference/generated/pynetdicom._handlers.doc_handle_userid.html">Handler documentation</a></p></td>
</tr>
<tr class="row-odd"><td colspan="3"><p>Service class received a DIMSE service request</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_C_ECHO</span></code></p></td>
<td><p>Service class received
C-ECHO request</p></td>
<td><p><a class="reference external" href="../reference/generated/pynetdicom._handlers.doc_handle_echo.html">Handler documentation</a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_C_FIND</span></code></p></td>
<td><p>Service class received
C-FIND request</p></td>
<td><p><a class="reference external" href="../reference/generated/pynetdicom._handlers.doc_handle_find.html">Handler documentation</a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_C_GET</span></code></p></td>
<td><p>Service class received
C-GET request</p></td>
<td><p><a class="reference external" href="../reference/generated/pynetdicom._handlers.doc_handle_c_get.html">Handler documentation</a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_C_MOVE</span></code></p></td>
<td><p>Service class received
C-MOVE request</p></td>
<td><p><a class="reference external" href="../reference/generated/pynetdicom._handlers.doc_handle_move.html">Handler documentation</a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_C_STORE</span></code></p></td>
<td><p>Service class received
C-STORE request</p></td>
<td><p><a class="reference external" href="../reference/generated/pynetdicom._handlers.doc_handle_store.html">Handler documentation</a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">evt.EVT_N_GET</span></code></p></td>
<td><p>Service class received
N-GET request</p></td>
<td><p><a class="reference external" href="../reference/generated/pynetdicom._handlers.doc_handle_n_get.html">Handler documentation</a></p></td>
</tr>
</tbody>
</table>
</section>
<section id="event-handlers">
<h2>Event Handlers<a class="headerlink" href="#event-handlers" title="Permalink to this headline">¶</a></h2>
<p>All handlers bound to an event are passed a single parameter <em>event</em> which is
an <a class="reference internal" href="../reference/generated/pynetdicom.events.Event.html#pynetdicom.events.Event" title="pynetdicom.events.Event"><code class="xref py py-class docutils literal notranslate"><span class="pre">Event</span></code></a> instance. All <code class="docutils literal notranslate"><span class="pre">Event</span></code> objects
come with at least four attributes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Event.assoc</span></code> - the
<a class="reference internal" href="../reference/generated/pynetdicom.association.Association.html#pynetdicom.association.Association" title="pynetdicom.association.Association"><code class="xref py py-class docutils literal notranslate"><span class="pre">Association</span></code></a> in which the
event occurred</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Event.description</span></code> - a str description of the event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Event.name</span></code> - the name of the event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Event.timestamp</span></code> - the date and time the event occurred at (as a python
<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime-objects">datetime</a>).</p></li>
</ul>
<p>Additional attributes and properties are available depending on the event type,
see the <a class="reference external" href="../reference/events.html">handler implementation documentation</a> for more information.</p>
<p>Handlers can be bound to events through the <code class="docutils literal notranslate"><span class="pre">bind(event,</span> <span class="pre">handler)</span></code> methods
in the <code class="docutils literal notranslate"><span class="pre">Association</span></code> and <code class="docutils literal notranslate"><span class="pre">AssociationServer</span></code> classes or by using the
<code class="docutils literal notranslate"><span class="pre">evt_handler</span></code> keyword parameter to <code class="docutils literal notranslate"><span class="pre">AE.associate()</span></code> and
<code class="docutils literal notranslate"><span class="pre">AE.start_server()</span></code>. Handlers can be unbound with the
<code class="docutils literal notranslate"><span class="pre">unbind(event,</span> <span class="pre">handler)</span></code> methods in the <code class="docutils literal notranslate"><span class="pre">Association</span></code> and
<code class="docutils literal notranslate"><span class="pre">AssociationServer</span></code> classes. See the <a class="reference internal" href="association.html#association"><span class="std std-ref">Association</span></a>
guide for more details.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="presentation.html" class="btn btn-neutral float-left" title="Presentation Contexts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ae.html" class="btn btn-neutral float-right" title="Application Entity" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018-19, pynetdicom contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>