<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pynetdicom.dimse.DIMSEServiceProvider &mdash; pynetdicom 1.3.1 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/pynetdicom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/pynetdicom.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> pynetdicom
            <img src="../../_static/pydicom_flat_black.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.3.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../verification_service_class.html">Verification Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../storage_service_class.html">Storage Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../query_retrieve_service_class.html">Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../basic_worklist_service_class.html">Basic Worklist Management Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../relevant_patient_service_class.html">Relevant Patient Information Query Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../substance_admin_service_class.html">Substance Administration Query Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../non_patient_service_class.html">Non-Patient Object Storage Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../color_palette_service_class.html">Color Palette Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../defined_procedure_service_class.html">Defined Procedure Protocol Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hanging_protocol_service_class.html">Hanging Protocol Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../implant_template_service_class.html">Implant Template Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../display_system_service_class.html">Display System Management Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modality_performed_procedure_step.html">Modality Performed Procedure Step Management</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">1.3.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html#v1-3-0">1.3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html#v1-2-0">1.2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html#v1-1-0">1.1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html#v1-0-0">1.0.0</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pynetdicom</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>pynetdicom.dimse.DIMSEServiceProvider</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/reference/generated/pynetdicom.dimse.DIMSEServiceProvider.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pynetdicom-dimse-dimseserviceprovider">
<h1>pynetdicom.dimse.DIMSEServiceProvider<a class="headerlink" href="#pynetdicom-dimse-dimseserviceprovider" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="pynetdicom.dimse.DIMSEServiceProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pynetdicom.dimse.</span></span><span class="sig-name descname"><span class="pre">DIMSEServiceProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">assoc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pynetdicom/dimse.html#DIMSEServiceProvider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="reference external" href="https://github.com/pydicom/pynetdicom/blob/5dad29fb0/pynetdicom/dimse.py#L48"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pynetdicom.dimse.DIMSEServiceProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>The DIMSE service provider.</p>
<p>A DICOM AE uses the services provided by the DICOM Message Service Element
(DIMSE). DIMSE specifies two sets of services.</p>
<ul class="simple">
<li><p>DIMSE-C supports operations associated with composite SOP Classes and
provides effective compatibility with the previous versions of the DICOM
standards.</p></li>
<li><p>DIMSE-N supports operations associated with normalised SOP Classes and
provides an extended set of object-orientated operations and
notifications</p></li>
</ul>
<p><strong>Service Overview</strong></p>
<p>The DIMSE service provider supports communication between peer DIMSE
service users. A service user acts in one of two roles:</p>
<ul class="simple">
<li><p>invoking DIMSE user</p></li>
<li><p>performing DIMSE user</p></li>
</ul>
<p>Service users make use of service primitives provided by the DIMSE service
provider. A service primitive shall be one of the following types:</p>
<ul class="simple">
<li><p>request primitive</p></li>
<li><p>indication primitive</p></li>
<li><p>response primitive</p></li>
<li><p>confirmation primitive</p></li>
</ul>
<p>These primitives are used as follows:</p>
<ul class="simple">
<li><p>The invoking service user issues a request primitive to the DIMSE
provider</p></li>
<li><p>The DIMSE provider receives the request primitive and issues an
indication primitive to the performing service user</p></li>
<li><p>The performing service user receives the indication primitive and
performs the requested service</p></li>
<li><p>The performing service user issues a response primitive to the DIMSE
provider</p></li>
<li><p>The DIMSE provider receives the response primitive and issues a
confirmation primitive to the invoking service user</p></li>
<li><p>The invoking service user receives the confirmation primitive, completing
the DIMSE service.</p></li>
</ul>
<p><strong>Service Primitive Classes</strong></p>
<ul class="simple">
<li><p>DIMSE-C: C_ECHO, C_STORE, C_GET, C_FIND, C_MOVE</p></li>
<li><p>DIMSE-N: N_EVENT_REPORT, N_GET, N_GET, N_ACTION, N_CREATE, N_DELETE</p></li>
</ul>
<p><strong>Protocol Machine</strong></p>
<p>PS3.7 8.1
The DIMSE protocol machine defines the procedures and the encoding rules
necessary to construct Messages used to exchange command requests and
responses between peer DIMSE service users.</p>
<p>The DIMSE protocol machine accepts service user requests and response
service primitives and constructs Messages defined by the procedures in
PS3.7 9.3 and 10.3. The DIMSE protocol machine accepts Messages and passes
them to the DIMSE service user by the means of indication and confirmation
service primitives.</p>
<p><strong>Messages</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 37%" />
<col style="width: 38%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Primitive</p></td>
<td><p>Type</p></td>
<td><p>Message Class</p></td>
</tr>
<tr class="row-even"><td><p>C-CANCEL</p></td>
<td><p>Request/indication</p></td>
<td><p>C_CANCEL_R</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>C-ECHO</p></td>
<td><p>Request/indication</p></td>
<td><p>C_ECHO_RQ</p></td>
</tr>
<tr class="row-even"><td><p>Response/confirmation</p></td>
<td><p>C_ECHO_RSP</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>C-FIND</p></td>
<td><p>Request/indication</p></td>
<td><p>C_FIND_RQ</p></td>
</tr>
<tr class="row-even"><td><p>Response/confirmation</p></td>
<td><p>C_FIND_RSP</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>C-GET</p></td>
<td><p>Request/indication</p></td>
<td><p>C_GET_RQ</p></td>
</tr>
<tr class="row-even"><td><p>Response/confirmation</p></td>
<td><p>C_GET_RSP</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>C-MOVE</p></td>
<td><p>Request/indication</p></td>
<td><p>C_MOVE_RQ</p></td>
</tr>
<tr class="row-even"><td><p>Response/confirmation</p></td>
<td><p>C_MOVE_RSP</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>C-STORE</p></td>
<td><p>Request/indication</p></td>
<td><p>C_STORE_RQ</p></td>
</tr>
<tr class="row-even"><td><p>Response/confirmation</p></td>
<td><p>C_STORE_RSP</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>N-ACTION</p></td>
<td><p>Request/indication</p></td>
<td><p>N_ACTION_RQ</p></td>
</tr>
<tr class="row-even"><td><p>Response/confirmation</p></td>
<td><p>N_ACTION_RSP</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>N-CREATE</p></td>
<td><p>Request/indication</p></td>
<td><p>N_CREATE_RQ</p></td>
</tr>
<tr class="row-even"><td><p>Response/confirmation</p></td>
<td><p>N_CREATE_RSP</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>N-DELETE</p></td>
<td><p>Request/indication</p></td>
<td><p>N_DELETE_RQ</p></td>
</tr>
<tr class="row-even"><td><p>Response/confirmation</p></td>
<td><p>N_DELETE_RSP</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>N-EVENT-REPORT</p></td>
<td><p>Request/indication</p></td>
<td><p>N_EVENT_REPORT_RQ</p></td>
</tr>
<tr class="row-even"><td><p>Response/confirmation</p></td>
<td><p>N_EVENT_REPORT_RSP</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>N-GET</p></td>
<td><p>Request/indication</p></td>
<td><p>N_GET_RQ</p></td>
</tr>
<tr class="row-even"><td><p>Response/confirmation</p></td>
<td><p>N_GET_RSP</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>N-SET</p></td>
<td><p>Request/indication</p></td>
<td><p>N_SET_RQ</p></td>
</tr>
<tr class="row-even"><td><p>Response/confirmation</p></td>
<td><p>N_SET_RSP</p></td>
</tr>
</tbody>
</table>
<dl class="py attribute">
<dt class="sig sig-object py" id="pynetdicom.dimse.DIMSEServiceProvider.cancel_rq">
<span class="sig-name descname"><span class="pre">cancel_rq</span></span><a class="headerlink" href="#pynetdicom.dimse.DIMSEServiceProvider.cancel_rq" title="Permalink to this definition">¶</a></dt>
<dd><p>A dict of {MessageIDBeingRespondedTo : C_CANCEL} messages received.
The dict is cleared out at the start and end of Service Class
operations and is limited to a maximum of 10 messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pynetdicom.dimse.DIMSEServiceProvider.message">
<span class="sig-name descname"><span class="pre">message</span></span><a class="headerlink" href="#pynetdicom.dimse.DIMSEServiceProvider.message" title="Permalink to this definition">¶</a></dt>
<dd><p>The DIMSE message.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dimse_messages.DIMSEMessage</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pynetdicom.dimse.DIMSEServiceProvider.msg_queue">
<span class="sig-name descname"><span class="pre">msg_queue</span></span><a class="headerlink" href="#pynetdicom.dimse.DIMSEServiceProvider.msg_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>A queue holding decoded DIMSE Message primitives received from the
peer, except for C-CANCEL requests.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>queue.queue of dimse_messages.DIMSEMessage</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">References</p>
<ul class="simple">
<li><p>DICOM Standard, Part 7</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="pynetdicom.dimse.DIMSEServiceProvider.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">assoc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pynetdicom/dimse.html#DIMSEServiceProvider.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="reference external" href="https://github.com/pydicom/pynetdicom/blob/5dad29fb0/pynetdicom/dimse.py#L179"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pynetdicom.dimse.DIMSEServiceProvider.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the DIMSE service provider.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>assoc</strong> (<a class="reference internal" href="pynetdicom.association.Association.html#pynetdicom.association.Association" title="pynetdicom.association.Association"><em>association.Association</em></a>) – The Association to provide DIMSE services for.</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pynetdicom.dimse.DIMSEServiceProvider.__init__" title="pynetdicom.dimse.DIMSEServiceProvider.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(assoc)</p></td>
<td><p>Initialise the DIMSE service provider.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_msg</span></code>([block])</p></td>
<td><p>Get the next available DIMSE message.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">on_receive_dimse_message</span></code>(message)</p></td>
<td><p>Controls which debugging function is called when receiving.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">on_send_dimse_message</span></code>(message)</p></td>
<td><p>Controls which debugging function is called when sending.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">peek_msg</span></code>()</p></td>
<td><p>Return the first message in the message queue or None.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">receive_primitive</span></code>(primitive)</p></td>
<td><p>Process a P-DATA primitive received from the remote.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_msg</span></code>(primitive, context_id)</p></td>
<td><p>Send a DIMSE-C or DIMSE-N message to the peer AE.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">assoc</span></code></p></td>
<td><p>Return the ACSE's Association.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">dimse_timeout</span></code></p></td>
<td><p>Return the DIMSE timeout as numeric or None.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">dul</span></code></p></td>
<td><p>Return the Association's DUL service provider.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">maximum_pdu_size</span></code></p></td>
<td><p>Return the peer's maximum PDU length.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018-19, pynetdicom contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>