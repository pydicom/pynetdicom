

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pynetdicom.pdu_primitives &mdash; pynetdicom 1.4.0.dev0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/pynetdicom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/pynetdicom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> pynetdicom
          

          
            
            <img src="../../_static/pydicom_flat_black.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.4.0.dev0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../verification_service_class.html">Verification Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../storage_service_class.html">Storage Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../query_retrieve_service_class.html">Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../basic_worklist_service_class.html">Basic Worklist Management Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../relevant_patient_service_class.html">Relevant Patient Information Query Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../substance_admin_service_class.html">Substance Administration Query Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../non_patient_service_class.html">Non-Patient Object Storage Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../color_palette_service_class.html">Color Palette Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../defined_procedure_service_class.html">Defined Procedure Protocol Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hanging_protocol_service_class.html">Hanging Protocol Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../implant_template_service_class.html">Implant Template Query/Retrieve Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../display_system_service_class.html">Display System Management Service Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modality_performed_procedure_step.html">Modality Performed Procedure Step Management</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">1.3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html#v1-2-0">1.2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html#v1-1-0">1.1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html#v1-0-0">1.0.0</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pynetdicom</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Module code</a> &raquo;</li>
        
      <li>pynetdicom.pdu_primitives</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for pynetdicom.pdu_primitives</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Implementaion of the service parameter primitives.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">codecs</span>
<span class="kn">import</span> <span class="nn">logging</span>

<span class="kn">from</span> <span class="nn">pydicom.uid</span> <span class="k">import</span> <span class="n">UID</span>

<span class="kn">from</span> <span class="nn">pynetdicom.pdu_items</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">MaximumLengthSubItem</span><span class="p">,</span>
    <span class="n">ImplementationClassUIDSubItem</span><span class="p">,</span>
    <span class="n">ImplementationVersionNameSubItem</span><span class="p">,</span>
    <span class="n">AsynchronousOperationsWindowSubItem</span><span class="p">,</span>
    <span class="n">SCP_SCU_RoleSelectionSubItem</span><span class="p">,</span>
    <span class="n">SOPClassExtendedNegotiationSubItem</span><span class="p">,</span>
    <span class="n">SOPClassCommonExtendedNegotiationSubItem</span><span class="p">,</span>
    <span class="n">UserIdentitySubItemRQ</span><span class="p">,</span>
    <span class="n">UserIdentitySubItemAC</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">pynetdicom.presentation</span> <span class="k">import</span> <span class="n">PresentationContext</span>
<span class="kn">from</span> <span class="nn">pynetdicom.utils</span> <span class="k">import</span> <span class="n">validate_ae_title</span><span class="p">,</span> <span class="n">validate_uid</span>
<span class="kn">from</span> <span class="nn">pynetdicom._globals</span> <span class="k">import</span> <span class="n">DEFAULT_MAX_LENGTH</span>

<span class="n">LOGGER</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;pynetdicom.pdu_primitives&#39;</span><span class="p">)</span>


<span class="c1"># TODO: Rename to UserInformation</span>
<span class="k">class</span> <span class="nc">ServiceParameter</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Base class for Service Parameters &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Equality of two ServiceParameters&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">other</span><span class="o">.</span><span class="vm">__dict__</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Inequality of two ServiceParameters&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">other</span>


<span class="c1"># Association Service primitives</span>
<div class="viewcode-block" id="A_ASSOCIATE"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.A_ASSOCIATE.html#pynetdicom.pdu_primitives.A_ASSOCIATE">[docs]</a><span class="k">class</span> <span class="nc">A_ASSOCIATE</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An A-ASSOCIATE primitive.</span>

<span class="sd">    The establishment of an association between two AEs shall be performed</span>
<span class="sd">    through ACSE A-ASSOCIATE request, indication, response and confirmation</span>
<span class="sd">    primitives.</span>

<span class="sd">    The initiator of the service is called the Requestor and the user that</span>
<span class="sd">    receives the request is the Acceptor.</span>

<span class="sd">    The A-ASSOCIATE primitive is used by the DUL provider to send/receive</span>
<span class="sd">    information about the association. It gets converted to</span>
<span class="sd">    A-ASSOCIATE-RQ, -AC, -RJ PDUs that are sent to the peer DUL provider and</span>
<span class="sd">    gets deconverted from -RQ, -AC, -RJ PDUs received from the peer.</span>

<span class="sd">    It may be better to simply extend this with methods for containing</span>
<span class="sd">    the -rq, -ac, -rj possibilities rather than creating a new</span>
<span class="sd">    AssociationInformation class, but it would require maintaining the instance</span>
<span class="sd">    across the request-accept/reject path</span>

<span class="sd">    * -rq = no Result value</span>
<span class="sd">    * -ac = Result of 0x00</span>
<span class="sd">    * -rj = Result != 0x00</span>

<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | Parameter        | Request | Indication | Response | Confirmation |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | app context name | M       | M(=)       | M        | M(=)         |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | calling ae title | M       | M(=)       | M        | M(=)         |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | called ae title  | M       | M(=)       | M        | M(=)         |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | user info        | M       | M(=)       | M        | M(=)         |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | result           |         |            | M        | M(=)         |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | source           |         |            |          | M            |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | diagnostic       |         |            | U        | C(=)         |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | calling pres add | M       | M(=)       |          |              |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | called pres add  | M       | M(=)       |          |              |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | pres contxt list | M       | M(=)       |          |              |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | pres list result |         |            | M        | M(=)         |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | mode             | UF      | MF(=)      |          |              |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | resp ae title    |         |            | MF       | MF(=)        |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | resp pres add    |         |            | MF       | MF(=)        |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | pres/sess req    | UF      | UF(=)      | UF       | UF(=)        |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>

<span class="sd">    | U   - User option</span>
<span class="sd">    | UF  - User option, fixed value</span>
<span class="sd">    | C   - Conditional (on user option)</span>
<span class="sd">    | M   - Mandatory</span>
<span class="sd">    | MF  - Mandatory, fixed value</span>
<span class="sd">    | NU  - Not used</span>
<span class="sd">    | (=) - shall have same value as request or response</span>


<span class="sd">    The Requestor sends a request primitive to the local DICOM UL provider =&gt;</span>
<span class="sd">    peer UL =&gt; indication primitive to Acceptor.</span>

<span class="sd">    Acceptor sends response primitive to peer UL =&gt; local UL =&gt; confirmation</span>
<span class="sd">    primitive to Requestor</span>

<span class="sd">    The DICOM UL providers communicate with UL users using service primitives</span>
<span class="sd">    The DICOM UL providers communicate with each other using PDUs over TCP/IP</span>

<span class="sd">    **Service Procedure**</span>

<span class="sd">    1. An AE (DICOM UL service user) that desires the establish an association</span>
<span class="sd">       issues an A-ASSOCIATE request primitive to the DICOM UL service</span>
<span class="sd">       provider. The Requestor shall not issue any primitives except the</span>
<span class="sd">       A-ABORT request primitive until it receives an A-ASSOCIATE confirmation</span>
<span class="sd">       primitive.</span>
<span class="sd">    2. The DICOM UL service provider issues an A-ASSOCIATE indication primitive</span>
<span class="sd">       to the called AE</span>
<span class="sd">    3. The called AE shall accept or reject the association by sending an</span>
<span class="sd">       A-ASSOCIATE response primitive with an appropriate Result parameter. The</span>
<span class="sd">       DICOM UL service provider shall issue an A-ASSOCIATE confirmation</span>
<span class="sd">       primitive having the same Result parameter. The Result Source parameter</span>
<span class="sd">       shall be assigned &quot;UL service-user&quot;</span>
<span class="sd">    4. If the Acceptor accepts the association, it is established and is</span>
<span class="sd">       available for use. DIMSE messages can now be exchanged.</span>
<span class="sd">    5. If the Acceptor rejects the association, it shall not be established and</span>
<span class="sd">       is not available for use</span>
<span class="sd">    6. If the DICOM UL service provider is not capable of supporting the</span>
<span class="sd">       requested association it shall return an A-ASSOCIATE confirmation</span>
<span class="sd">       primitive to the Requestor with an appropriate Result parameter</span>
<span class="sd">       (rejected). The Result Source parameter shall be assigned either</span>
<span class="sd">       UL service provider (ACSE) or UL service provider (Presentation).</span>
<span class="sd">       The indication primitive shall not be issued. The association shall not</span>
<span class="sd">       be established.</span>
<span class="sd">    7. Either Requestor or Acceptor may disrupt the Service Procedure by</span>
<span class="sd">       issuing an A-ABORT request primitive. The remote AE receives an A-ABORT</span>
<span class="sd">       indication primitive. The association shall not be established</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    mode : str</span>
<span class="sd">        Fixed value of &quot;normal&quot;</span>
<span class="sd">    application_context_name : pydicom.uid.UID, bytes or str</span>
<span class="sd">        The application context name proposed by the requestor. Acceptor</span>
<span class="sd">        returns either the same or a different name. Returned name specifies</span>
<span class="sd">        the application context used for the Association. See PS3.8 Annex A.</span>
<span class="sd">        The application context name shall be a valid UID or UID string and for</span>
<span class="sd">        version 3 of the DICOM Standard should be &#39;1.2.840.10008.3.1.1.1&#39;</span>
<span class="sd">    calling_ae_title : str or bytes</span>
<span class="sd">        Identifies the Requestor of the A-ASSOCIATE service. Must be a valid</span>
<span class="sd">        AE</span>
<span class="sd">    called_ae_title : str or bytes</span>
<span class="sd">        Identifies the intended Acceptor of the A-ASSOCIATE service. Must be a</span>
<span class="sd">        valid AE</span>
<span class="sd">    responding_ae_title : str or bytes</span>
<span class="sd">        Identifies the AE that contains the actual acceptor of the</span>
<span class="sd">        A-ASSOCIATE service. Shall always contain the same value as the</span>
<span class="sd">        Called AE Title of the A-ASSOCIATE indication</span>
<span class="sd">    user_information : list</span>
<span class="sd">        Used by Requestor and Acceptor to include AE user information. See</span>
<span class="sd">        PS3.8 Annex D and PS3.7 Annex D.3</span>
<span class="sd">    result : int</span>
<span class="sd">        Provided either by the Acceptor of the A-ASSOCIATE request, the UL</span>
<span class="sd">        service provider (ACSE related) or the UL service provider</span>
<span class="sd">        (Presentation related). Indicates the result of the A-ASSOCIATE</span>
<span class="sd">        service. Allowed values are:</span>

<span class="sd">        * 0: accepted</span>
<span class="sd">        * 1: rejected (permanent)</span>
<span class="sd">        * 2: rejected (transient)</span>

<span class="sd">    result_source : int</span>
<span class="sd">        Identifies the creating source of the Result and Diagnostic parameters</span>
<span class="sd">        Allowed values are:</span>

<span class="sd">        * 0: UL service-user</span>
<span class="sd">        * 1: UL service-provider (ACSE related function)</span>
<span class="sd">        * 2: UL service-provider (presentation related function)</span>

<span class="sd">    diagnostic : int</span>
<span class="sd">        If the `result` parameter is 0 &quot;rejected (permanent)&quot; or 1 &quot;rejected</span>
<span class="sd">        (transient)&quot; then this supplies diagnostic information about the</span>
<span class="sd">        result. If `result_source` is 0 &quot;UL service-user&quot; then allowed values</span>
<span class="sd">        are:</span>

<span class="sd">        * 0: no reason given</span>
<span class="sd">        * 1: application context name not supported</span>
<span class="sd">        * 2: calling AE title not recognised</span>
<span class="sd">        * 3: called AE title not recognised</span>

<span class="sd">        If `result_source` is 1 &quot;UL service-provider (ACSE related function)&quot;</span>
<span class="sd">        then allowed values are:</span>

<span class="sd">        * 0: no reason given</span>
<span class="sd">        * 1: no common UL version</span>

<span class="sd">        If `result_source` is 2 &quot;UL service-provider (presentation related</span>
<span class="sd">        function)&quot; then allowed values are:</span>

<span class="sd">        * 0: no reason given</span>
<span class="sd">        * 1: temporary congestion</span>
<span class="sd">        * 2: local limit exceeded</span>
<span class="sd">        * 3: called presentation address unknown</span>
<span class="sd">        * 4: presentation protocol version not supported</span>
<span class="sd">        * 5: no presentation service access point available</span>

<span class="sd">    calling_presentation_address : str</span>
<span class="sd">        TCP/IP address of the Requestor</span>
<span class="sd">    called_presentation_address : str</span>
<span class="sd">        TCP/IP address of the intended Acceptor</span>
<span class="sd">    responding_presentation_address : str</span>
<span class="sd">        Shall always contain the same value as the Called Presentation Address</span>
<span class="sd">    presentation_context_definition_list : list</span>
<span class="sd">        List of one or more presentation contexts, with each item containing</span>
<span class="sd">        a presentation context ID, an Abstract Syntax and a list of one or</span>
<span class="sd">        more Transfer Syntax Names. Sent by the Requestor during</span>
<span class="sd">        request/indication</span>
<span class="sd">    presentation_context_definition_results_list : list</span>
<span class="sd">        Used in response/confirmation to indicate acceptance or rejection of</span>
<span class="sd">        each presentation context definition.</span>
<span class="sd">        List of result values, with a one-to-one correspondence between each</span>
<span class="sd">        of the presentation contexts proposed in the Presentation Context</span>
<span class="sd">        Definition List parameter.</span>
<span class="sd">        The result values may be sent in any order and may be different than</span>
<span class="sd">        the order proposed.</span>
<span class="sd">        Only one Transfer Syntax per presentation context shall be agreed to</span>
<span class="sd">    presentation_requirements : str</span>
<span class="sd">        Fixed value of &quot;Presentation Kernel&quot;</span>
<span class="sd">    session_requirements : str</span>
<span class="sd">        Fixed value of &quot;&quot; (empty string)</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>

<span class="sd">    * DICOM Standard, Part 8, Section 7.1.1</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># pylint: disable=too-many-instance-attributes</span>

<div class="viewcode-block" id="A_ASSOCIATE.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.A_ASSOCIATE.html#pynetdicom.pdu_primitives.A_ASSOCIATE.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">application_context_name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calling_ae_title</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">called_ae_title</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_information</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">result_source</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diagnostic</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calling_presentation_address</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">called_presentation_address</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">presentation_context_definition_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">presentation_context_definition_results_list</span> <span class="o">=</span> <span class="p">[]</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the Mode parameter.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;normal&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">application_context_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the Application Context Name parameter.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_application_context_name</span>

    <span class="nd">@application_context_name</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">application_context_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the Application Context Name parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : pydicom.uid.UID, bytes or str</span>
<span class="sd">            The value for the Application Context Name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UID</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;application_context_name must be a &quot;</span>
                            <span class="s2">&quot;pydicom.uid.UID, str or bytes&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">validate_uid</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;application_context_name is an invalid UID&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;application_context_name is an invalid UID&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">value</span><span class="o">.</span><span class="n">is_valid</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;The Application Context Name &#39;</span><span class="si">{}</span><span class="s2">&#39; is non-conformant&quot;</span>
                <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_application_context_name</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">calling_ae_title</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the Calling AE Title parameter.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calling_ae_title</span>

    <span class="nd">@calling_ae_title</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">calling_ae_title</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the Calling AE Title parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : str or bytes</span>
<span class="sd">            The Calling AE Title as a string or bytes object. Cannot be an</span>
<span class="sd">            empty string and will be truncated to 16 characters long</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">codecs</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s1">&#39;ascii&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_calling_ae_title</span> <span class="o">=</span> <span class="n">validate_ae_title</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_calling_ae_title</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">called_ae_title</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the Called AE Title parameter.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_called_ae_title</span>

    <span class="nd">@called_ae_title</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">called_ae_title</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the Called AE Title parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : str or bytes</span>
<span class="sd">            The Called AE Title as a string or bytes object. Cannot be an empty</span>
<span class="sd">            string and will be truncated to 16 characters long</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">codecs</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s1">&#39;ascii&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_called_ae_title</span> <span class="o">=</span> <span class="n">validate_ae_title</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_called_ae_title</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">responding_ae_title</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the Responding AE Title parameter.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">called_ae_title</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">user_information</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the User Information parameter.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_information</span>

    <span class="nd">@user_information</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">user_information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the A-ASSOCIATE primitive&#39;s User Information parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value_list : list of user information class objects</span>
<span class="sd">            A list of user information objects, must contain at least</span>
<span class="sd">            MaximumLengthNotification and ImplementationClassUIDNotification</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="n">valid_usr_info_items</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="c1"># Iterate through the items and check they&#39;re an acceptable class</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value_list</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="ow">in</span> \
                        <span class="p">[</span><span class="s2">&quot;MaximumLengthNotification&quot;</span><span class="p">,</span>
                         <span class="s2">&quot;ImplementationClassUIDNotification&quot;</span><span class="p">,</span>
                         <span class="s2">&quot;ImplementationVersionNameNotification&quot;</span><span class="p">,</span>
                         <span class="s2">&quot;AsynchronousOperationsWindowNegotiation&quot;</span><span class="p">,</span>
                         <span class="s2">&quot;SCP_SCU_RoleSelectionNegotiation&quot;</span><span class="p">,</span>
                         <span class="s2">&quot;SOPClassExtendedNegotiation&quot;</span><span class="p">,</span>
                         <span class="s2">&quot;SOPClassCommonExtendedNegotiation&quot;</span><span class="p">,</span>
                         <span class="s2">&quot;UserIdentityNegotiation&quot;</span><span class="p">]:</span>
                    <span class="n">valid_usr_info_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Attempted to set &quot;</span>
                                <span class="s2">&quot;A_ASSOCIATE.user_information to a list &quot;</span>
                                <span class="s2">&quot;which includes an unsupported item&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.user_information must be a list&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.user_information must be a list&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_user_information</span> <span class="o">=</span> <span class="n">valid_usr_info_items</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">result</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return te Result parameter.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result</span>

    <span class="nd">@result</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the A-ASSOCIATE Service primitive&#39;s Result parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : str</span>
<span class="sd">            One of the following:</span>

<span class="sd">            * 0: accepted</span>
<span class="sd">            * 1: rejected (permanent)</span>
<span class="sd">            * 2: rejected (transient)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.result set to an unknown value&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unknown A_ASSOCIATE.result value&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_result</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">result_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the result as str.&quot;&quot;&quot;</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span> <span class="p">:</span> <span class="s2">&quot;Rejected Permanent&quot;</span><span class="p">,</span> <span class="mi">2</span> <span class="p">:</span> <span class="s2">&quot;Rejected Transient&quot;</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">results</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">result_source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the Result Source parameter.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_source</span>

    <span class="nd">@result_source</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">result_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the A-ASSOCIATE Service primitive&#39;s Result Source parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : int</span>
<span class="sd">            One of the following:</span>

<span class="sd">            * 1: UL service-user</span>
<span class="sd">            * 2: UL service-provider (ACSE related function)</span>
<span class="sd">            * 3: UL service-provider (presentation related function)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.result_source set to an unknown value&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unknown A_ASSOCIATE.result_source value&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_result_source</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">source_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the reject source as str.&quot;&quot;&quot;</span>
        <span class="n">sources</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span> <span class="p">:</span> <span class="s1">&#39;Service User&#39;</span><span class="p">,</span>
            <span class="mi">2</span> <span class="p">:</span> <span class="s1">&#39;Service Provider (ACSE)&#39;</span><span class="p">,</span>
            <span class="mi">3</span> <span class="p">:</span> <span class="s1">&#39;Service Provider (Presentation)&#39;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">sources</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">result_source</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">diagnostic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the Diagnostic parameter.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_diagnostic</span>

    <span class="nd">@diagnostic</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">diagnostic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the A-ASSOCIATE Service primitive&#39;s Diagnostic parameter</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : int</span>
<span class="sd">            If `result_source` is &quot;UL service-user&quot; then allowed values are:</span>

<span class="sd">            * 1: no reason given</span>
<span class="sd">            * 2: application context name not supported</span>
<span class="sd">            * 3: calling AE title not recognised</span>
<span class="sd">            * 7: called AE title not recognised</span>

<span class="sd">            If `result_source` is &quot;UL service-provider (ACSE related function)&quot;</span>
<span class="sd">            then allowed values are:</span>

<span class="sd">            * 1: no reason given</span>
<span class="sd">            * 2: protocol version not supported&quot;</span>

<span class="sd">            If `result_source` is &quot;UL service-provider (Presentation related</span>
<span class="sd">            function)&quot; then allowed values are:</span>

<span class="sd">            * 1: temporary congestion</span>
<span class="sd">            * 2: local limit exceeded</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">]:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.diagnostic set to an unknown value&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unknown A_ASSOCIATE.diagnostic value&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_diagnostic</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">reason_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the rejection reason as str.&quot;&quot;&quot;</span>
        <span class="n">reasons</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span> <span class="p">:</span> <span class="p">{</span>
                <span class="mi">1</span> <span class="p">:</span> <span class="s1">&#39;No reason given&#39;</span><span class="p">,</span>
                <span class="mi">2</span> <span class="p">:</span> <span class="s1">&#39;Application context name not supported&#39;</span><span class="p">,</span>
                <span class="mi">3</span> <span class="p">:</span> <span class="s1">&#39;Called AE title not recognised&#39;</span><span class="p">,</span>
                <span class="mi">4</span> <span class="p">:</span> <span class="s1">&#39;Reserved&#39;</span><span class="p">,</span>
                <span class="mi">5</span> <span class="p">:</span> <span class="s1">&#39;Reserved&#39;</span><span class="p">,</span>
                <span class="mi">6</span> <span class="p">:</span> <span class="s1">&#39;Reserved&#39;</span><span class="p">,</span>
                <span class="mi">7</span> <span class="p">:</span> <span class="s1">&#39;Calling AE title not recognised&#39;</span><span class="p">,</span>
                <span class="mi">8</span> <span class="p">:</span> <span class="s1">&#39;Reserved&#39;</span><span class="p">,</span>
                <span class="mi">9</span> <span class="p">:</span> <span class="s1">&#39;Reserved&#39;</span><span class="p">,</span>
                <span class="mi">10</span> <span class="p">:</span> <span class="s1">&#39;Reserved&#39;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="mi">2</span> <span class="p">:</span> <span class="p">{</span>
                <span class="mi">1</span> <span class="p">:</span> <span class="s1">&#39;No reason given&#39;</span><span class="p">,</span>
                <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Protocol version not supported&#39;</span>
            <span class="p">},</span>
            <span class="mi">3</span> <span class="p">:</span> <span class="p">{</span>
                <span class="mi">0</span> <span class="p">:</span> <span class="s2">&quot;Reserved&quot;</span><span class="p">,</span>
                <span class="mi">1</span> <span class="p">:</span> <span class="s2">&quot;Temporary congestion&quot;</span><span class="p">,</span>
                <span class="mi">2</span> <span class="p">:</span> <span class="s2">&quot;Local limit exceeded&quot;</span><span class="p">,</span>
                <span class="mi">3</span> <span class="p">:</span> <span class="s1">&#39;Reserved&#39;</span><span class="p">,</span>
                <span class="mi">4</span> <span class="p">:</span> <span class="s1">&#39;Reserved&#39;</span><span class="p">,</span>
                <span class="mi">5</span> <span class="p">:</span> <span class="s1">&#39;Reserved&#39;</span><span class="p">,</span>
                <span class="mi">6</span> <span class="p">:</span> <span class="s1">&#39;Reserved&#39;</span><span class="p">,</span>
                <span class="mi">7</span> <span class="p">:</span> <span class="s1">&#39;Reserved&#39;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">reasons</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">result_source</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">diagnostic</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">calling_presentation_address</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the Calling Presentation Address parameter.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calling_presentation_address</span>

    <span class="nd">@calling_presentation_address</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">calling_presentation_address</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the A-ASSOCIATE Service primitive&#39;s Calling Presentation</span>
<span class="sd">        Address parameter</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : (str, int) tuple</span>
<span class="sd">            A tuple containing a valid TCP/IP address string and the port</span>
<span class="sd">            number as an int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span> \
                    <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">int</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_calling_presentation_address</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.calling_presentation_address must &quot;</span>
                             <span class="s2">&quot;be (str, int) tuple&quot;</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.calling_presentation_address &quot;</span>
                                <span class="s2">&quot;must be (str, int) tuple&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_calling_presentation_address</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.calling_presentation_address must be &quot;</span>
                         <span class="s2">&quot;(str, int) tuple&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.calling_presentation_address must &quot;</span>
                            <span class="s2">&quot;be (str, int) tuple&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">called_presentation_address</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the Called Presentation Address parameter.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_called_presentation_address</span>

    <span class="nd">@called_presentation_address</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">called_presentation_address</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the Called Presentation Address parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : (str, int) tuple</span>
<span class="sd">            A tuple containing a valid TCP/IP address string and the port</span>
<span class="sd">            number as an int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span> \
                    <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">int</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_called_presentation_address</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.called_presentation_address must &quot;</span>
                             <span class="s2">&quot;be (str, int) tuple&quot;</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.called_presentation_address &quot;</span>
                                <span class="s2">&quot;must be (str, int) tuple&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_called_presentation_address</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.called_presentation_address must be &quot;</span>
                         <span class="s2">&quot;(str, int) tuple&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.called_presentation_address must &quot;</span>
                            <span class="s2">&quot;be (str, int) tuple&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">responding_presentation_address</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the Responding Presentation Address parameter.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">called_presentation_address</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">presentation_context_definition_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the Presentation Context Definition List.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_presentation_context_definition_list</span>

    <span class="nd">@presentation_context_definition_list</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">presentation_context_definition_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the A-ASSOCIATE Service primitive&#39;s Presentation Context Definition</span>
<span class="sd">        List parameter</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value_list : list of utils.PresentationContext</span>
<span class="sd">            The Presentation Contexts proposed by the Association Requestor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">valid_items</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value_list</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">PresentationContext</span><span class="p">):</span>
                    <span class="n">valid_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="s2">&quot;Attempted to set &quot;</span>
                        <span class="s2">&quot;A_ASSOCIATE.presentation_context_definition_list to &quot;</span>
                        <span class="s2">&quot;a list which includes an invalid items&quot;</span>
                    <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_presentation_context_definition_list</span> <span class="o">=</span> <span class="n">valid_items</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.presentation_context_definition_list &quot;</span>
                         <span class="s2">&quot;must be a list&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.presentation_context_definition_list &quot;</span>
                            <span class="s2">&quot;must be a list&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">presentation_context_definition_results_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the Presentation Context Definition Results List.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_presentation_context_definition_results_list</span>

    <span class="nd">@presentation_context_definition_results_list</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">presentation_context_definition_results_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the Presentation Context Definition Results List parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value_list : list of utils.PresentationContext</span>
<span class="sd">            The results of the Presentation Contexts proposal by the</span>
<span class="sd">            Association Requestor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">valid_items</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value_list</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">PresentationContext</span><span class="p">):</span>
                    <span class="n">valid_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Attempted to set A_ASSOCIATE.presentation&quot;</span>
                                   <span class="s2">&quot;_context_definition_results_list to a &quot;</span>
                                   <span class="s2">&quot;list which includes one or more invalid &quot;</span>
                                   <span class="s2">&quot;items.&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_presentation_context_definition_results_list</span> <span class="o">=</span> <span class="n">valid_items</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.presentation_context_definition_&quot;</span>
                         <span class="s2">&quot;results_list must be a list&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;A_ASSOCIATE.presentation_context_definition_&quot;</span>
                            <span class="s2">&quot;results_list must be a list&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">presentation_requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the Presentation Kernel.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;Presentation Kernel&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">session_requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the Session Requirements.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># Shortcut attributes for User Information items</span>
    <span class="c1"># Mandatory UI Items</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">maximum_length_received</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the Maximum Length Received.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_information</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">MaximumLengthNotification</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">item</span><span class="o">.</span><span class="n">maximum_length_received</span>

        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@maximum_length_received</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">maximum_length_received</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the Maximum Length Received.</span>

<span class="sd">        If the A_ASSOCIATE.user_information list contains a</span>
<span class="sd">        MaximumLengthNotification item then set its maximum_length_received</span>
<span class="sd">        value. If not then add a MaximumLengthNotification item and set its</span>
<span class="sd">        maximum_length_received value.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : int</span>
<span class="sd">            The maximum length of each P-DATA in bytes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Type and value checking for the maximum_length_received parameter is</span>
        <span class="c1">#   done by the MaximumLengthNotification class</span>

        <span class="c1"># Check for a MaximumLengthNotification item</span>
        <span class="n">found_item</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_information</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">MaximumLengthNotification</span><span class="p">):</span>
                <span class="n">found_item</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="n">item</span><span class="o">.</span><span class="n">maximum_length_received</span> <span class="o">=</span> <span class="n">value</span>

        <span class="c1"># No MaximumLengthNotification item found</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">found_item</span><span class="p">:</span>
            <span class="n">max_length</span> <span class="o">=</span> <span class="n">MaximumLengthNotification</span><span class="p">()</span>
            <span class="n">max_length</span><span class="o">.</span><span class="n">maximum_length_received</span> <span class="o">=</span> <span class="n">value</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user_information</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">max_length</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">implementation_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the Implementation Class UID.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_information</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">ImplementationClassUIDNotification</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">implementation_class_uid</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Implementation Class UID has not been set&quot;</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Implementation Class UID has not &quot;</span>
                                     <span class="s2">&quot;been set&quot;</span><span class="p">)</span>

                <span class="k">return</span> <span class="n">item</span><span class="o">.</span><span class="n">implementation_class_uid</span>

        <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Implementation Class UID has not been set&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Implementation Class UID has not been set&quot;</span><span class="p">)</span>

    <span class="nd">@implementation_class_uid</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">implementation_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the Implementation Class UID.</span>

<span class="sd">        If the A_ASSOCIATE.user_information list contains an</span>
<span class="sd">        ImplementationClassUIDNotification item then set its</span>
<span class="sd">        implementation_class_uid value. If not then add a</span>
<span class="sd">        ImplementationClassUIDNotification item and set its</span>
<span class="sd">        implementation_class_uid value.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : pydicom.uid.UID, bytes or str</span>
<span class="sd">            The value for the Implementation Class UID</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Type and value checking for the implementation_class_uid parameter is</span>
        <span class="c1">#   done by the ImplementationClassUIDNotification class</span>

        <span class="c1"># Check for a ImplementationClassUIDNotification item</span>
        <span class="n">found_item</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_information</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">ImplementationClassUIDNotification</span><span class="p">):</span>
                <span class="n">found_item</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="n">item</span><span class="o">.</span><span class="n">implementation_class_uid</span> <span class="o">=</span> <span class="n">value</span>

        <span class="c1"># No ImplementationClassUIDNotification item found</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">found_item</span><span class="p">:</span>
            <span class="n">imp_uid</span> <span class="o">=</span> <span class="n">ImplementationClassUIDNotification</span><span class="p">()</span>
            <span class="n">imp_uid</span><span class="o">.</span><span class="n">implementation_class_uid</span> <span class="o">=</span> <span class="n">value</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user_information</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">imp_uid</span><span class="p">)</span></div>


<div class="viewcode-block" id="A_RELEASE"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.A_RELEASE.html#pynetdicom.pdu_primitives.A_RELEASE">[docs]</a><span class="k">class</span> <span class="nc">A_RELEASE</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An A-RELEASE primitive.</span>

<span class="sd">    The release of an association between two AEs shall be performed through</span>
<span class="sd">    ACSE A-RELEASE request, indication, response and confirmation primitives.</span>
<span class="sd">    The initiator of the service is called a Requestor and the service-user</span>
<span class="sd">    that receives the A-RELEASE indication is called the acceptor.</span>

<span class="sd">    Service Procedure</span>

<span class="sd">    1. The user (Requestor) that desires to end the association issues an</span>
<span class="sd">       A-RELEASE request primitive. The Requestor shall not issue any other</span>
<span class="sd">       primitives other than A-ABORT until it receives an A-RELEASE</span>
<span class="sd">       confirmation primitive.</span>
<span class="sd">    2. The DUL provider issues an A-RELEASE indication to the Acceptor. The</span>
<span class="sd">       Acceptor shall not issue any other primitives other than A-RELEASE</span>
<span class="sd">       response, A-ABORT request or P-DATA request.</span>
<span class="sd">    3. To complete the release, the Acceptor replies using an A-RELEASE</span>
<span class="sd">       response primitive, with &quot;affirmative&quot; as the result parameter.</span>
<span class="sd">    4. After the Acceptor issues the A-RELEASE response it shall not issue any</span>
<span class="sd">       more primitives.</span>
<span class="sd">    5. The Requestor shall issue an A-RELEASE confirmation primitive always</span>
<span class="sd">       with an &quot;affirmative&quot; value for the Result parameter.</span>
<span class="sd">    6. A user may disrupt the release by issuing an A-ABORT request.</span>
<span class="sd">    7. A collision may occur when both users issue A-RELEASE requests</span>
<span class="sd">       simultaneously. In this situation both users receive an unexpect</span>
<span class="sd">       A-RELEASE indication primitive (instead of an A-RELEASE acceptance):</span>

<span class="sd">         a. The association requestor issues an A-RELEASE response primitive</span>
<span class="sd">         b. The association acceptor waits for an A-RELEASE confirmation</span>
<span class="sd">            primitive from its peer. When it receives one it issues an</span>
<span class="sd">            A-RELEASE response primitive</span>
<span class="sd">         c. The association requestor receives an A-RELEASE confirmation</span>
<span class="sd">            primitive.</span>

<span class="sd">       When both ACSE users have received an A-RELEASE confirmation primitive</span>
<span class="sd">       the association shall be released.</span>

<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | Parameter        | Request | Indication | Response | Confirmation |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | reason           | UF      | UF(=)      | UF       | UF(=)        |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | user info        |NU       | NU(=)      | NU       | NU(=)        |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>
<span class="sd">    | result           |         |            | MF       | MF(=)        |</span>
<span class="sd">    +------------------+---------+------------+----------+--------------+</span>

<span class="sd">    | U   - User option</span>
<span class="sd">    | UF  - User option, fixed value</span>
<span class="sd">    | C   - Conditional (on user option)</span>
<span class="sd">    | M   - Mandatory</span>
<span class="sd">    | MF  - Mandatory, fixed value</span>
<span class="sd">    | NU  - Not used</span>
<span class="sd">    | (=) - shall have same value as request or response</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    reason : str</span>
<span class="sd">        Fixed value of &quot;normal&quot;. Identifies the general level of urgency of the</span>
<span class="sd">        request.</span>
<span class="sd">    result : str or None</span>
<span class="sd">        Must be None for request and indication, &quot;affirmative&quot; for response</span>
<span class="sd">        and confirmation.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    * DICOM Standard, Part 8, Section 7.2</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="A_RELEASE.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.A_RELEASE.html#pynetdicom.pdu_primitives.A_RELEASE.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="kc">None</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">reason</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Reason* parameter.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;normal&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">result</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Result* parameter.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result</span>

    <span class="nd">@result</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the Result parameter.&quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">!=</span> <span class="s2">&quot;affirmative&quot;</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A_RELEASE.result must be None or &#39;affirmative&#39;&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;A_RELEASE.result must be None or &#39;affirmative&#39;&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_result</span> <span class="o">=</span> <span class="n">value</span></div>


<div class="viewcode-block" id="A_ABORT"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.A_ABORT.html#pynetdicom.pdu_primitives.A_ABORT">[docs]</a><span class="k">class</span> <span class="nc">A_ABORT</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An A-ABORT primitive.</span>

<span class="sd">    +------------------+---------+------------+</span>
<span class="sd">    | Parameter        | Request | Indication |</span>
<span class="sd">    +------------------+---------+------------+</span>
<span class="sd">    | abort source     |         | M          |</span>
<span class="sd">    +------------------+---------+------------+</span>
<span class="sd">    | user info        |NU       | NU(=)      |</span>
<span class="sd">    +------------------+---------+------------+</span>

<span class="sd">    | U   - User option</span>
<span class="sd">    | UF  - User option, fixed value</span>
<span class="sd">    | C   - Conditional (on user option)</span>
<span class="sd">    | M   - Mandatory</span>
<span class="sd">    | MF  - Mandatory, fixed value</span>
<span class="sd">    | NU  - Not used</span>
<span class="sd">    | (=) - shall have same value as request or response</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    abort_source : int</span>
<span class="sd">        Indicates the initiating source of the abort. Allowed values are:</span>

<span class="sd">        * 0: UL service-user</span>
<span class="sd">        * 2: UL service-provider</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>

<span class="sd">    * DICOM Standard, Part 8, Section 7.3.1</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="A_ABORT.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.A_ABORT.html#pynetdicom.pdu_primitives.A_ABORT.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">abort_source</span> <span class="o">=</span> <span class="kc">None</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">abort_source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Abort Source*.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_abort_source</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A_ABORT.abort_source parameter not set&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;A_ABORT.abort_source value not set&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_abort_source</span>

    <span class="nd">@abort_source</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">abort_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the Abort Source.&quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_abort_source</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_abort_source</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Attempted to set A_ABORT.abort_source to an &quot;</span>
                         <span class="s2">&quot;invalid value&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Attempted to set A_ABORT.abort_source to an &quot;</span>
                             <span class="s2">&quot;invalid value&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="A_P_ABORT"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.A_P_ABORT.html#pynetdicom.pdu_primitives.A_P_ABORT">[docs]</a><span class="k">class</span> <span class="nc">A_P_ABORT</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An A-P-ABORT primitive.</span>

<span class="sd">    +------------------+------------+</span>
<span class="sd">    | Parameter        | Indication |</span>
<span class="sd">    +------------------+------------+</span>
<span class="sd">    | abort source     | P          |</span>
<span class="sd">    +------------------+------------+</span>

<span class="sd">    | U   - User option</span>
<span class="sd">    | UF  - User option, fixed value</span>
<span class="sd">    | C   - Conditional (on user option)</span>
<span class="sd">    | M   - Mandatory</span>
<span class="sd">    | MF  - Mandatory, fixed value</span>
<span class="sd">    | NU  - Not used</span>
<span class="sd">    | P   - Provider initiated</span>
<span class="sd">    | (=) - shall have same value as request or response</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    provider_reason : int</span>
<span class="sd">        Indicates the reason for the abort. Allowed values are:</span>

<span class="sd">        * 0: reason not specified</span>
<span class="sd">        * 1: unrecognised PDU</span>
<span class="sd">        * 2: unexpected PDU</span>
<span class="sd">        * 4: unrecognised PDU parameter</span>
<span class="sd">        * 5: unexpected PDU parameter</span>
<span class="sd">        * 6: invalid PDU parameter value</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>

<span class="sd">    * DICOM Standard, Part 8, Section 7.4.1</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="A_P_ABORT.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.A_P_ABORT.html#pynetdicom.pdu_primitives.A_P_ABORT.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">provider_reason</span> <span class="o">=</span> <span class="kc">None</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">provider_reason</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Provider Reason*.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_provider_reason</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A_ABORT.provider_reason parameter not set&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;A_ABORT.provider_reason value not set&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_provider_reason</span>

    <span class="nd">@provider_reason</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">provider_reason</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the Provider Reason.&quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_provider_reason</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_provider_reason</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;Attempted to set A_P_ABORT.provider_reason to an invalid &quot;</span>
                <span class="s2">&quot;value&quot;</span>
            <span class="p">)</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></div>


<div class="viewcode-block" id="P_DATA"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.P_DATA.html#pynetdicom.pdu_primitives.P_DATA">[docs]</a><span class="k">class</span> <span class="nc">P_DATA</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A P-DATA primitive.</span>

<span class="sd">    +------------------------------+---------+------------+</span>
<span class="sd">    | Parameter                    | Request | Indication |</span>
<span class="sd">    +------------------------------+---------+------------+</span>
<span class="sd">    | presentation data value list | M       | M(=)       |</span>
<span class="sd">    +------------------------------+---------+------------+</span>

<span class="sd">    | U   - User option</span>
<span class="sd">    | UF  - User option, fixed value</span>
<span class="sd">    | C   - Conditional (on user option)</span>
<span class="sd">    | M   - Mandatory</span>
<span class="sd">    | MF  - Mandatory, fixed value</span>
<span class="sd">    | NU  - Not used</span>
<span class="sd">    | (=) - shall have same value as request or response</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    presentation_data_value_list : list of [int, bytes]</span>
<span class="sd">        Contains one or more Presentation Data Values (PDV), each consisting of</span>
<span class="sd">        a Presentation Context ID and User Data values. The User Data values</span>
<span class="sd">        are taken from the Abstract Syntax and encoded in the Transfer Syntax</span>
<span class="sd">        identified by the Presentation Context ID. Each item in the list is</span>
<span class="sd">        [Context ID, PDV Data]</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>

<span class="sd">    * DICOM Standard, Part 8, Section 7.6.1</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="P_DATA.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.P_DATA.html#pynetdicom.pdu_primitives.P_DATA.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">presentation_data_value_list</span> <span class="o">=</span> <span class="p">[]</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">presentation_data_value_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Presentation Data Value List*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_presentation_data_value_list</span>

    <span class="nd">@presentation_data_value_list</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">presentation_data_value_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the Presentation Data Value List.&quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">pdv</span> <span class="ow">in</span> <span class="n">value_list</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pdv</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pdv</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pdv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">bytes</span><span class="p">):</span>
                        <span class="k">pass</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;P_DATA.presentation_data_value_list &quot;</span>
                                        <span class="s2">&quot;should be a list of [int, bytes]&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;P_DATA.presentation_data_value_list &quot;</span>
                                    <span class="s2">&quot;should be a list of [ID, PDV]&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;P_DATA.presentation_data_value_list &quot;</span>
                            <span class="s2">&quot;should be a list of [int, bytes]&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_presentation_data_value_list</span> <span class="o">=</span> <span class="n">value_list</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;String representation of the class.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;P-DATA</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">for</span> <span class="n">pdv</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">presentation_data_value_list</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;  Context ID: </span><span class="si">{0!s}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pdv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;  Value Length: </span><span class="si">{0!s}</span><span class="s1"> bytes</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pdv</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
            <span class="n">header_byte</span> <span class="o">=</span> <span class="n">pdv</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

            <span class="c1"># Python 2 compatibility</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">header_byte</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">header_byte</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">header_byte</span><span class="p">)</span>

            <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Message Control Header Byte: </span><span class="si">{:08b}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">header_byte</span><span class="p">)</span>

            <span class="c1"># xxxxxx01 and xxxxxx011</span>
            <span class="k">if</span> <span class="n">header_byte</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># xxxxxx11</span>
                <span class="k">if</span> <span class="n">header_byte</span> <span class="o">&amp;</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;    Command information, last fragment of the &#39;</span> \
                         <span class="s1">&#39;DIMSE message</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="c1"># xxxxxx01</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;    Command information, not the last fragment of &#39;</span> \
                         <span class="s1">&#39;the DIMSE message</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="c1"># xxxxxx00, xxxxxxx10</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># xxxxxx10</span>
                <span class="k">if</span> <span class="n">header_byte</span> <span class="o">&amp;</span> <span class="mi">2</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;    Dataset information, last fragment of the &#39;</span> \
                         <span class="s1">&#39;DIMSE message</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="c1"># xxxxxx00</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;    Dataset information, not the last fragment of &#39;</span> \
                         <span class="s1">&#39;the DIMSE message</span><span class="se">\n</span><span class="s1">&#39;</span>

            <span class="c1"># Remaining data</span>
            <span class="c1">#s += pretty_bytes(pdv[1][1:], &#39;    &#39;, max_size=512)</span>

        <span class="k">return</span> <span class="n">s</span></div>


<span class="c1"># User Information Negotiation primitives</span>
<div class="viewcode-block" id="MaximumLengthNotification"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.MaximumLengthNotification.html#pynetdicom.pdu_primitives.MaximumLengthNotification">[docs]</a><span class="k">class</span> <span class="nc">MaximumLengthNotification</span><span class="p">(</span><span class="n">ServiceParameter</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A representation of a Maximum Length Negotiation primitive.</span>

<span class="sd">    The maximum length notification allows communicating AEs to limit the size</span>
<span class="sd">    of the data for each P-DATA indication. This notification is required for</span>
<span class="sd">    all DICOM v3.0 conforming implementations.</span>

<span class="sd">    This User Information item is required during Association negotiation and</span>
<span class="sd">    there must only be a single MaximumLengthNotification item</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    maximum_length_received : int</span>
<span class="sd">        The maximum length received value for the Maximum Length sub-item in</span>
<span class="sd">        bytes. A value of 0 indicates unlimited length (31682 bytes default).</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>

<span class="sd">    * DICOM Standard, Part 7, Annex D.3.3.1</span>
<span class="sd">    * DICOM Standard, Part 8, Annex D.1</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="MaximumLengthNotification.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.MaximumLengthNotification.html#pynetdicom.pdu_primitives.MaximumLengthNotification.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maximum_length_received</span> <span class="o">=</span> <span class="n">DEFAULT_MAX_LENGTH</span></div>

<div class="viewcode-block" id="MaximumLengthNotification.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.MaximumLengthNotification.html#pynetdicom.pdu_primitives.MaximumLengthNotification.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert the primitive to a PDU item ready to be encoded.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        item : pdu_items.MaximumLengthSubItem</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">MaximumLengthSubItem</span><span class="p">()</span>
        <span class="n">item</span><span class="o">.</span><span class="n">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">item</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">maximum_length_received</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Maximum Length Received*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maximum_length</span>

    <span class="nd">@maximum_length_received</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">maximum_length_received</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;User defined Maximum Length to be used during an Association.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val : int</span>
<span class="sd">            The maximum length of each P-DATA in bytes, must be equal to or</span>
<span class="sd">            greater than 0. A value of 0 indicates an unlimited maximum length.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If `maximum_length_received` is negative</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `maximum_length_received` is not an int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">val</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Maximum Length Received must be greater than 0&#39;</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Maximum Length Received must be greater &quot;</span>
                                 <span class="s2">&quot;than 0&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_maximum_length</span> <span class="o">=</span> <span class="n">val</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Maximum Length Received must be numerical&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Maximum Length Received must be numerical&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;String representation of the class.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Maximum Length Negotiation</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Maximum length received: </span><span class="si">{0:d}</span><span class="s2"> bytes</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_length_received</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">s</span></div>


<span class="c1"># TODO: Combine ImplementationClass and ImplementationVersion</span>
<span class="c1">#   into ImplementationIdentificationNotification</span>
<div class="viewcode-block" id="ImplementationClassUIDNotification"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.ImplementationClassUIDNotification.html#pynetdicom.pdu_primitives.ImplementationClassUIDNotification">[docs]</a><span class="k">class</span> <span class="nc">ImplementationClassUIDNotification</span><span class="p">(</span><span class="n">ServiceParameter</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A representation of a Implementation Class UID Notification primitive.</span>

<span class="sd">    The implementation identification notification allows implementations of</span>
<span class="sd">    communicating AEs to identify each other at Association establishment time.</span>
<span class="sd">    It is intended to provider respective and non-ambiguous identification in</span>
<span class="sd">    the event of communication problems encountered between two nodes. This</span>
<span class="sd">    negotiation is required.</span>

<span class="sd">    Implementation identification relies on two pieces of information:</span>
<span class="sd">    - Implementation Class UID (required)</span>
<span class="sd">    - Implementation Version Name (optional)</span>

<span class="sd">    The Implementation Class UID is required during Association negotiation and</span>
<span class="sd">    there must only be a single ImplementationClassUID item</span>

<span class="sd">    usr_data_neg = []</span>
<span class="sd">    usr_data_neg.append(impl_class_uid)</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    implementation_class_uid : pydicom.uid.UID, bytes or str</span>
<span class="sd">        The UID to use</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    &gt;&gt;&gt; from pynetdicom.pdu_primitives import (</span>
<span class="sd">    ...     ImplementationClassUIDNotification</span>
<span class="sd">    ... )</span>
<span class="sd">    &gt;&gt;&gt; item = ImplementationClassUIDNotification()</span>
<span class="sd">    &gt;&gt;&gt; item.implementation_class_uid = &#39;1.2.3.4&#39;</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>

<span class="sd">    * DICOM Standard, Part 7, Annex D.3.3.2</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="ImplementationClassUIDNotification.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.ImplementationClassUIDNotification.html#pynetdicom.pdu_primitives.ImplementationClassUIDNotification.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">implementation_class_uid</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="ImplementationClassUIDNotification.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.ImplementationClassUIDNotification.html#pynetdicom.pdu_primitives.ImplementationClassUIDNotification.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert the primitive to a PDU item ready to be encoded.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        item : pdu_items.ImplementationClassUIDSubItem</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If no UID is set</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">implementation_class_uid</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;The Implementation Class UID must be set prior to &quot;</span>
                         <span class="s2">&quot;requesting Association&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The Implementation Class UID must be set &quot;</span>
                             <span class="s2">&quot;prior to requesting Association&quot;</span><span class="p">)</span>

        <span class="n">item</span> <span class="o">=</span> <span class="n">ImplementationClassUIDSubItem</span><span class="p">()</span>
        <span class="n">item</span><span class="o">.</span><span class="n">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">item</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">implementation_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Implementation Class UID*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_implementation_class_uid</span>

    <span class="nd">@implementation_class_uid</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">implementation_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the Implementation Class UID parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : pydicom.uid.UID, bytes or str</span>
<span class="sd">            The value for the Implementation Class UID</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UID</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Implementation Class UID must be a &quot;</span>
                            <span class="s2">&quot;pydicom.uid.UID, str or bytes&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">validate_uid</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;The Implementation Class UID Notification&#39;s &#39;Implementation &quot;</span>
                <span class="s2">&quot;Class UID&#39; parameter value &#39;</span><span class="si">{}</span><span class="s2">&#39; is not a valid UID&quot;</span>
                <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">value</span><span class="o">.</span><span class="n">is_valid</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;The Implementation Class UID &#39;</span><span class="si">{}</span><span class="s2">&#39; is non-conformant&quot;</span>
                <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_implementation_class_uid</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;String representation of the class.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Implementation Class UID</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Implementation class UID: </span><span class="si">{0!s}</span><span class="se">\n</span><span class="s2">&quot;</span> \
             <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">implementation_class_uid</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">s</span></div>


<div class="viewcode-block" id="ImplementationVersionNameNotification"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.ImplementationVersionNameNotification.html#pynetdicom.pdu_primitives.ImplementationVersionNameNotification">[docs]</a><span class="k">class</span> <span class="nc">ImplementationVersionNameNotification</span><span class="p">(</span><span class="n">ServiceParameter</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A representation of a Implementation Version Name Notification primitive.</span>

<span class="sd">    The implementation identification notification allows implementations of</span>
<span class="sd">    communicating AEs to identify each other at Association establishment time.</span>
<span class="sd">    It is intended to provider respective and non-ambiguous identification in</span>
<span class="sd">    the event of communication problems encountered between two nodes. This</span>
<span class="sd">    negotiation is required.</span>

<span class="sd">    Implementation identification relies on two pieces of information:</span>

<span class="sd">    - Implementation Class UID (required)</span>
<span class="sd">    - Implementation Version Name (optional)</span>

<span class="sd">    The Implementation Version Name is optional and there may only be a single</span>
<span class="sd">    ImplementationVersionName item</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    implementation_version_name : str or bytes</span>
<span class="sd">        The version name to use, maximum of 16 characters</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    &gt;&gt;&gt; from pynetdicom.pdu_primitives import (</span>
<span class="sd">    ...     ImplementationVersionNameNotification</span>
<span class="sd">    ... )</span>
<span class="sd">    &gt;&gt;&gt; item = ImplementationVersionNameNotification()</span>
<span class="sd">    &gt;&gt;&gt; item.implementation_version_name = b&#39;SOME_NAME&#39;</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>

<span class="sd">    * DICOM Standard, Part 7, Annex D.3.3.2</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="ImplementationVersionNameNotification.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.ImplementationVersionNameNotification.html#pynetdicom.pdu_primitives.ImplementationVersionNameNotification.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">implementation_version_name</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="ImplementationVersionNameNotification.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.ImplementationVersionNameNotification.html#pynetdicom.pdu_primitives.ImplementationVersionNameNotification.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert the primitive to a PDU item ready to be encoded.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        item : pdu_items.ImplementationVersionNameSubItem</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If no name is set</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">implementation_version_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Implementation Version Name must be set prior &quot;</span>
                             <span class="s2">&quot;to Association&quot;</span><span class="p">)</span>

        <span class="n">item</span> <span class="o">=</span> <span class="n">ImplementationVersionNameSubItem</span><span class="p">()</span>
        <span class="n">item</span><span class="o">.</span><span class="n">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">item</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">implementation_version_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Implementation Version Name*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_implementation_version_name</span>

    <span class="nd">@implementation_version_name</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">implementation_version_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the Implementation Version Name parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : str or bytes</span>
<span class="sd">            The value for the Implementation Version Name</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `value` is not a str or bytes</span>
<span class="sd">        ValueError</span>
<span class="sd">            If `value` is empty or longer than 16 characters</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">codecs</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s1">&#39;ascii&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Implementation Version Name must be a str or bytes&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Implementation Version Name must be a str &quot;</span>
                            <span class="s2">&quot;or bytes&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">17</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Implementation Version Name must be &quot;</span>
                             <span class="s2">&quot;between 1 and 16 characters long&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_implementation_version_name</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;String representation of the class.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Implementation Version Name</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Implementation version name: </span><span class="si">{0!s}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">implementation_version_name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">s</span></div>


<div class="viewcode-block" id="AsynchronousOperationsWindowNegotiation"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.AsynchronousOperationsWindowNegotiation.html#pynetdicom.pdu_primitives.AsynchronousOperationsWindowNegotiation">[docs]</a><span class="k">class</span> <span class="nc">AsynchronousOperationsWindowNegotiation</span><span class="p">(</span><span class="n">ServiceParameter</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Representation of the Asynchronous Operations Window Negotiation primitive.</span>

<span class="sd">    Allows peer AEs to negotiate the maximum number of outstanding operation</span>
<span class="sd">    or sub-operation requests. This negotiation is optional.</span>

<span class="sd">    The Asynchronous Operations Window is optional and there may only be a</span>
<span class="sd">    single AsynchronousOperationsWindowNegotiation item</span>

<span class="sd">    Identical for both A-ASSOCIATE-RQ and A-ASSOCIATE-AC</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    maximum_number_operations_invoked : int</span>
<span class="sd">        The maximum number of asynchronous operations invoked by the AE. A</span>
<span class="sd">        value of 0 indicates unlimited operations (default 1)</span>
<span class="sd">    maximum_number_operations_performed : int</span>
<span class="sd">        The maximum number of asynchronous operations performed by the AE. A</span>
<span class="sd">        value of 0 indicates unlimited operations (default 1)</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    &gt;&gt;&gt; from pynetdicom.pdu_primitives import (</span>
<span class="sd">    ...     AsynchronousOperationsWindowNegotiation</span>
<span class="sd">    ... )</span>
<span class="sd">    &gt;&gt;&gt; item = AsynchronousOperationsWindowNegotiation()</span>
<span class="sd">    &gt;&gt;&gt; item.maximum_number_operations_invoked = 2</span>
<span class="sd">    &gt;&gt;&gt; item.maximum_number_operations_performed = 1</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>

<span class="sd">    * DICOM Standard, Part 7, Annex D.3.3.3</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="AsynchronousOperationsWindowNegotiation.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.AsynchronousOperationsWindowNegotiation.html#pynetdicom.pdu_primitives.AsynchronousOperationsWindowNegotiation.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maximum_number_operations_invoked</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maximum_number_operations_performed</span> <span class="o">=</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="AsynchronousOperationsWindowNegotiation.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.AsynchronousOperationsWindowNegotiation.html#pynetdicom.pdu_primitives.AsynchronousOperationsWindowNegotiation.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert the primitive to a PDU item ready to be encoded.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        item : pdu_items.AsynchronousOperationsWindowSubItem</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">AsynchronousOperationsWindowSubItem</span><span class="p">()</span>
        <span class="n">item</span><span class="o">.</span><span class="n">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">item</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">maximum_number_operations_invoked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Maximum Number Operations Invoked*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maximum_number_operations_invoked</span>

    <span class="nd">@maximum_number_operations_invoked</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">maximum_number_operations_invoked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the Maximum Number Operations Invoked parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : int</span>
<span class="sd">            The maximum number of operations invoked</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `value` is not an int</span>
<span class="sd">        ValueError</span>
<span class="sd">            If `value` is less than 0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Maximum Number Operations Invoked must be an int&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Maximum Number Operations Invoked must be an int&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Maximum Number Operations Invoked must be &quot;</span>
                             <span class="s2">&quot;greater than 0&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_maximum_number_operations_invoked</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">maximum_number_operations_performed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Maximum Number Operations Performed*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maximum_number_operations_performed</span>

    <span class="nd">@maximum_number_operations_performed</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">maximum_number_operations_performed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the Maximum Number Operations Performed parameter</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : int</span>
<span class="sd">            The maximum number of operations performed</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `value` is not an int</span>
<span class="sd">        ValueError</span>
<span class="sd">            If `value` is less than 0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Maximum Number Operations Performed must be an int&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Maximum Number Operations Performed must be &quot;</span>
                            <span class="s2">&quot;an int&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Maximum Number Operations Performed must be &quot;</span>
                             <span class="s2">&quot;greater than 0&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_maximum_number_operations_performed</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;String representation of the class.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Asynchronous Operations Window</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Maximum number operations invoked: </span><span class="si">{0:d}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_number_operations_invoked</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;  Maximum number operations performed: </span><span class="si">{0:d}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_number_operations_performed</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">s</span></div>


<div class="viewcode-block" id="SCP_SCU_RoleSelectionNegotiation"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.SCP_SCU_RoleSelectionNegotiation.html#pynetdicom.pdu_primitives.SCP_SCU_RoleSelectionNegotiation">[docs]</a><span class="k">class</span> <span class="nc">SCP_SCU_RoleSelectionNegotiation</span><span class="p">(</span><span class="n">ServiceParameter</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A representation of the SCP/SCU Role Selection Negotiation primitive.</span>

<span class="sd">    Allows peer AEs to negotiate the roles in which they will serve for each</span>
<span class="sd">    SOP Class or Meta SOP Class supported on the Association. This negotiation</span>
<span class="sd">    is optional.</span>

<span class="sd">    The Association Requestor may use one SCP/SCU Role Selection item for each</span>
<span class="sd">    SOP Class as identified by its corresponding Abstract Syntax Name and shall</span>
<span class="sd">    be one of three role values:</span>

<span class="sd">    - Requestor is SCU only</span>
<span class="sd">    - Requestor is SCP only</span>
<span class="sd">    - Requestor is both SCU/SCP</span>

<span class="sd">    If the SCP/SCU Role Selection item is absent the default role for a</span>
<span class="sd">    Requestor is SCU and for an Acceptor is SCP.</span>

<span class="sd">    For a Requestor support for each SOP Class shall be one of the following</span>
<span class="sd">    roles:</span>

<span class="sd">    * Requestor is SCU only</span>
<span class="sd">    * Requestor is SCP only</span>
<span class="sd">    * Requestor is both SCU and SCP</span>

<span class="sd">    Identical for both A-ASSOCIATE-RQ and A-ASSOCIATE-AC</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    sop_class_uid : pydicom.uid.UID, bytes or str</span>
<span class="sd">        The UID of the corresponding Abstract Syntax</span>
<span class="sd">    scu_role : bool</span>
<span class="sd">        False for non-support of the SCU role, True for support</span>
<span class="sd">    scp_role : bool</span>
<span class="sd">        False for non-support of the SCP role, True for support</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    &gt;&gt;&gt; from pynetdicom.pdu_primitives import SCP_SCU_RoleSelectionNegotiation</span>
<span class="sd">    &gt;&gt;&gt; item = SCP_SCU_RoleSelectionNegotiation()</span>
<span class="sd">    &gt;&gt;&gt; item.sop_class_uid = &#39;1.2.840.10008.5.1.4.1.1.2&#39;</span>
<span class="sd">    &gt;&gt;&gt; item.scu_role = True</span>
<span class="sd">    &gt;&gt;&gt; item.scp_role = False</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>

<span class="sd">    * DICOM Standard, Part 7, Annex D.3.3.4</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="SCP_SCU_RoleSelectionNegotiation.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.SCP_SCU_RoleSelectionNegotiation.html#pynetdicom.pdu_primitives.SCP_SCU_RoleSelectionNegotiation.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scu_role</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scp_role</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="SCP_SCU_RoleSelectionNegotiation.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.SCP_SCU_RoleSelectionNegotiation.html#pynetdicom.pdu_primitives.SCP_SCU_RoleSelectionNegotiation.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert the primitive to a PDU item ready to be encoded</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        item : pdu_items.SCP_SCU_RoleSelectionSubItem</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If no SOP Class UID, SCU Role or SCP Role is set</span>
<span class="sd">        ValueError</span>
<span class="sd">            If SCU Role and SCP Role are both False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;&#39;sop_class_uid&#39; must be set prior to Association&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;&#39;sop_class_uid&#39; must be set prior to Association&quot;</span>
            <span class="p">)</span>

        <span class="c1"># To get to this point self.sop_class_uid must be set</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">scu_role</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">scp_role</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;SCU and SCP Roles cannot both be unsupported &quot;</span>
                         <span class="s2">&quot;for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;SCU and SCP Roles cannot both be unsupported &quot;</span>
                             <span class="s2">&quot;for </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span><span class="p">))</span>

        <span class="n">item</span> <span class="o">=</span> <span class="n">SCP_SCU_RoleSelectionSubItem</span><span class="p">()</span>
        <span class="n">item</span><span class="o">.</span><span class="n">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">item</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">scp_role</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *SCP Role*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scp_role</span>

    <span class="nd">@scp_role</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">scp_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the SCP Role parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : bool</span>
<span class="sd">            True if supported, False otherwise (default)</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `value` is not a bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;SCP Role must be boolean&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;SCP Role must be boolean&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_scp_role</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">scu_role</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *SCU Role*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scu_role</span>

    <span class="nd">@scu_role</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">scu_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the SCU Role parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : bool</span>
<span class="sd">            True if supported, False otherwise</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `value` is not a bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;SCU Role must be boolean&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;SCU Role must be boolean&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_scu_role</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sop_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *SOP Class UID*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sop_class_uid</span>

    <span class="nd">@sop_class_uid</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">sop_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the SOP Class UID parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : pydicom.uid.UID, bytes or str</span>
<span class="sd">            The corresponding Abstract Syntax UID</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `value` is not a pydicom.uid.UID, bytes or str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UID</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;SOP Class UID must be a pydicom.uid.UID, str &quot;</span>
                         <span class="s2">&quot;or bytes&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;SOP Class UID must be a pydicom.uid.UID, str &quot;</span>
                            <span class="s2">&quot;or bytes&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">validate_uid</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;SOP Class UID is an invalid UID&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;SOP Class UID is an invalid UID&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">value</span><span class="o">.</span><span class="n">is_valid</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;The SOP Class UID &#39;</span><span class="si">{}</span><span class="s2">&#39; is non-conformant&quot;</span>
                <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_sop_class_uid</span> <span class="o">=</span> <span class="n">value</span></div>


<div class="viewcode-block" id="SOPClassExtendedNegotiation"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.SOPClassExtendedNegotiation.html#pynetdicom.pdu_primitives.SOPClassExtendedNegotiation">[docs]</a><span class="k">class</span> <span class="nc">SOPClassExtendedNegotiation</span><span class="p">(</span><span class="n">ServiceParameter</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A representation of the SOP Class Extended Negotiation primitive.</span>

<span class="sd">    Allows peer AEs to exchange application information defined by specific</span>
<span class="sd">    Service Class specifications. Each Service Class is required to document</span>
<span class="sd">    the application information it supports and how this information is</span>
<span class="sd">    negotiated between SCUs and SCPs.</span>

<span class="sd">    The SOP Class Extended Negotiation is optional and there may only be a</span>
<span class="sd">    single SOPClassExtendedNegotiation item for each available SOP Class UID.</span>

<span class="sd">    Identical for both A-ASSOCIATE-RQ and A-ASSOCIATE-AC</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    sop_class_uid : pydicom.uid.UID, bytes or str</span>
<span class="sd">        The UID of the SOP Class</span>
<span class="sd">    service_class_application_information : bytes</span>
<span class="sd">        The Service Class Application Information as per the Service Class</span>
<span class="sd">        Specifications (see PS3.4)</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">       &gt;&gt;&gt; from pynetdicom.pdu_items import SOPClassExtendedNegotiation</span>
<span class="sd">       &gt;&gt;&gt; item = SOPClassExtendedNegotiation()</span>
<span class="sd">       &gt;&gt;&gt; item.sop_class_uid = &#39;1.2.840.10008.5.1.4.1.2.1.3&#39;</span>
<span class="sd">       &gt;&gt;&gt; item.service_class_application_information = b&#39;\x01&#39;</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>

<span class="sd">    * DICOM Standard, Part 7, Annex D.3.3.5</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="SOPClassExtendedNegotiation.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.SOPClassExtendedNegotiation.html#pynetdicom.pdu_primitives.SOPClassExtendedNegotiation.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">service_class_application_information</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="SOPClassExtendedNegotiation.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.SOPClassExtendedNegotiation.html#pynetdicom.pdu_primitives.SOPClassExtendedNegotiation.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert the primitive to a PDU item ready to be encoded.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        item : pdu_items.SOPClassExtendedNegotiationSubItem</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If `sop_class_uid` or `service_class_application_information` are</span>
<span class="sd">            not set</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span> <span class="ow">is</span> <span class="kc">None</span> \
                <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_class_application_information</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;SOP Class UID and Service Class Application &quot;</span>
                         <span class="s2">&quot;Information must be set prior to Association &quot;</span>
                         <span class="s2">&quot;negotiation&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;SOP Class UID and Service Class Application &quot;</span>
                             <span class="s2">&quot;Information must be set prior to Association &quot;</span>
                             <span class="s2">&quot;negotiation&quot;</span><span class="p">)</span>

        <span class="n">item</span> <span class="o">=</span> <span class="n">SOPClassExtendedNegotiationSubItem</span><span class="p">()</span>
        <span class="n">item</span><span class="o">.</span><span class="n">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">item</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">service_class_application_information</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Service Class Application Information*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_service_class_application_information</span>

    <span class="nd">@service_class_application_information</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">service_class_application_information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the Service Class Application Information parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : bytes</span>
<span class="sd">            The Service Class Application Information as per the Service Class</span>
<span class="sd">            Specifications (see PS3.4)</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `value` is not a bytes object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Service Class Application Information should be a &quot;</span>
                         <span class="s2">&quot;bytes object&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Service Class Application Information should &quot;</span>
                            <span class="s2">&quot;be a bytes object&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_service_class_application_information</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sop_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *SOP Class UID*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sop_class_uid</span>

    <span class="nd">@sop_class_uid</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">sop_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the SOP Class UID parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : pydicom.uid.UID, bytes or str</span>
<span class="sd">            The corresponding Abstract Syntax UID</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `value` is not a pydicom.uid.UID, bytes or str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UID</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;SOP Class UID must be a pydicom.uid.UID, str &quot;</span>
                         <span class="s2">&quot;or bytes&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;SOP Class UID must be a pydicom.uid.UID, str &quot;</span>
                            <span class="s2">&quot;or bytes&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">validate_uid</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;SOP Class UID is an invalid UID&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;SOP Class UID is an invalid UID&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">value</span><span class="o">.</span><span class="n">is_valid</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;The SOP Class UID &#39;</span><span class="si">{}</span><span class="s2">&#39; is non-conformant&quot;</span>
                <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_sop_class_uid</span> <span class="o">=</span> <span class="n">value</span></div>


<div class="viewcode-block" id="SOPClassCommonExtendedNegotiation"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.SOPClassCommonExtendedNegotiation.html#pynetdicom.pdu_primitives.SOPClassCommonExtendedNegotiation">[docs]</a><span class="k">class</span> <span class="nc">SOPClassCommonExtendedNegotiation</span><span class="p">(</span><span class="n">ServiceParameter</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A representation of the SOP Class Common Extended Negotiation primitive.</span>

<span class="sd">    Allows peer AEs to exchange generic application information.</span>

<span class="sd">    The SOP Class Common Extended Negotiation is optional and there may only be</span>
<span class="sd">    a single SOPClassCommonExtendedNegotiation item for each available SOP</span>
<span class="sd">    Class UID.</span>

<span class="sd">    Identical for both A-ASSOCIATE-RQ and A-ASSOCIATE-AC</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    sop_class_uid : pydicom.uid.UID, bytes or str</span>
<span class="sd">        The UID of the SOP Class</span>
<span class="sd">    service_class_uid : pydicom.uid.UID, bytes or str</span>
<span class="sd">        The UID of the corresponding Service Class</span>
<span class="sd">    related_general_sop_class_identification : list of UID str</span>
<span class="sd">        Related General SOP Class UIDs (optional)</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    &gt;&gt;&gt; from pynetdicom.pdu_primitives import SOPClassCommonExtendedNegotiation</span>
<span class="sd">    &gt;&gt;&gt; item = SOPClassCommonExtendedNegotiation()</span>
<span class="sd">    &gt;&gt;&gt; item.sop_class_uid = &#39;1.2.840.10008.5.1.4.1.1.88.40&#39;</span>
<span class="sd">    &gt;&gt;&gt; item.service_class_uid = &#39;1.2.840.10008.4.2&#39;</span>
<span class="sd">    &gt;&gt;&gt; item.related_general_sop_class_identification = [</span>
<span class="sd">    ...     &#39;1.2.840.10008.5.1.4.1.1.88.22&#39;</span>
<span class="sd">    ... ]</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>

<span class="sd">    * DICOM Standard, Part 7, Annex D.3.3.6</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="SOPClassCommonExtendedNegotiation.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.SOPClassCommonExtendedNegotiation.html#pynetdicom.pdu_primitives.SOPClassCommonExtendedNegotiation.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">service_class_uid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">related_general_sop_class_identification</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="SOPClassCommonExtendedNegotiation.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.SOPClassCommonExtendedNegotiation.html#pynetdicom.pdu_primitives.SOPClassCommonExtendedNegotiation.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert the primitive to a PDU item ready to be encoded.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        item : pdu_items.SOPClassCommonExtendedNegotiationSubItem</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If `sop_class_uid` or `service_class_uid` are not set</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sop_class_uid</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_class_uid</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;SOP Class UID and Service Class UID must be set &quot;</span>
                         <span class="s2">&quot;prior to Association negotiation&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;SOP Class UID and Service Class UID must be &quot;</span>
                             <span class="s2">&quot;set prior to Association negotiation&quot;</span><span class="p">)</span>

        <span class="n">item</span> <span class="o">=</span> <span class="n">SOPClassCommonExtendedNegotiationSubItem</span><span class="p">()</span>
        <span class="n">item</span><span class="o">.</span><span class="n">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">item</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">related_general_sop_class_identification</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Related General SOP Class Identification*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_related_general_sop_class_identification</span>

    <span class="nd">@related_general_sop_class_identification</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">related_general_sop_class_identification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uid_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the Service Class Application Information parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        uid_list : list of (pydicom.uid.UID, bytes or str)</span>
<span class="sd">            A list containing UIDs to be used in the Related General SOP Class</span>
<span class="sd">            Identification parameter</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `uid_list` is not a list</span>
<span class="sd">        ValueError</span>
<span class="sd">            If `uid_list` contains items that aren&#39;t UIDs</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">uid_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="c1"># Test that all the items in the list are UID compatible and</span>
            <span class="c1">#   convert them to pydicom.uid.UID if required</span>
            <span class="n">valid_uid_list</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">for</span> <span class="n">uid</span> <span class="ow">in</span> <span class="n">uid_list</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">uid</span><span class="p">,</span> <span class="n">UID</span><span class="p">):</span>
                    <span class="k">pass</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">uid</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">uid</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">uid</span><span class="p">)</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">uid</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
                    <span class="n">uid</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">uid</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="s2">&quot;Related General SOP Class Identification &quot;</span>
                        <span class="s2">&quot;must be a list of pydicom.uid.UID, str or bytes&quot;</span>
                    <span class="p">)</span>
                    <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">uid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">validate_uid</span><span class="p">(</span><span class="n">uid</span><span class="p">):</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="s2">&quot;Related General SOP Class &quot;</span>
                        <span class="s2">&quot;Identification contains an invalid UID&quot;</span>
                    <span class="p">)</span>
                    <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">uid</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">uid</span><span class="o">.</span><span class="n">is_valid</span><span class="p">:</span>
                    <span class="n">LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="s2">&quot;The Related General SOP Class UID &#39;</span><span class="si">{}</span><span class="s2">&#39; is &quot;</span>
                        <span class="s2">&quot;non-conformant&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">uid</span><span class="p">)</span>
                    <span class="p">)</span>

                <span class="n">valid_uid_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">uid</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_related_general_sop_class_identification</span> <span class="o">=</span> <span class="n">valid_uid_list</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;Related General SOP Class Identification &quot;</span>
                <span class="s2">&quot;must be a list of pydicom.uid.UID, str or bytes&quot;</span>
            <span class="p">)</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">service_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Service Class UID*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_service_class_uid</span>

    <span class="nd">@service_class_uid</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">service_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the Service Class UID parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : pydicom.uid.UID, bytes or str</span>
<span class="sd">            The corresponding Service Class UID</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `value` is not a pydicom.uid.UID, bytes or str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UID</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Service Class UID must be a pydicom.uid.UID, str or bytes&quot;</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">validate_uid</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Service Class UID is an invalid UID&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Service Class UID is an invalid UID&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">value</span><span class="o">.</span><span class="n">is_valid</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;The Service Class UID &#39;</span><span class="si">{}</span><span class="s2">&#39; is non-conformant&quot;</span>
                <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_service_class_uid</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sop_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *SOP Class UID*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sop_class_uid</span>

    <span class="nd">@sop_class_uid</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">sop_class_uid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the SOP Class UID parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : pydicom.uid.UID, bytes or str</span>
<span class="sd">            The SOP Class UID</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `value` is not a pydicom.uid.UID, bytes or str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UID</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UID</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;SOP Class UID must be a pydicom.uid.UID, str or bytes&quot;</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">validate_uid</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;SOP Class UID is an invalid UID&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;SOP Class UID is an invalid UID&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">value</span><span class="o">.</span><span class="n">is_valid</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;The SOP Class UID &#39;</span><span class="si">{}</span><span class="s2">&#39; is non-conformant&quot;</span>
                <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_sop_class_uid</span> <span class="o">=</span> <span class="n">value</span></div>


<div class="viewcode-block" id="UserIdentityNegotiation"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.UserIdentityNegotiation.html#pynetdicom.pdu_primitives.UserIdentityNegotiation">[docs]</a><span class="k">class</span> <span class="nc">UserIdentityNegotiation</span><span class="p">(</span><span class="n">ServiceParameter</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Representation of the User Identity Negotiation primitive.</span>

<span class="sd">    Allows peer AEs to exchange generic application information.</span>

<span class="sd">    The SOP Class Common Extended Negotiation is optional and there may only be</span>
<span class="sd">    a single SOPClassCommonExtendedNegotiation item for each available SOP</span>
<span class="sd">    Class UID.</span>

<span class="sd">    In general, a User Identity Negotiation request that is accepted will</span>
<span class="sd">    result in Association establishment and possibly a server response if</span>
<span class="sd">    requested and supported by the peer. If a server response is requested but</span>
<span class="sd">    not received then the Requestor must decide how to proceed.</span>
<span class="sd">    An Association rejected due to an authorisation failure will be indicated</span>
<span class="sd">    using Rejection Permanent with a Source of &quot;DICOM UL service provided (ACSE</span>
<span class="sd">    related function)&quot;.</span>

<span class="sd">    How the Acceptor handles authentication is to be implemented by the</span>
<span class="sd">    end-user and is outside the scope of the DICOM standard.</span>

<span class="sd">    A-ASSOCIATE-RQ</span>
<span class="sd">    | `user_identity_type`</span>
<span class="sd">    | `positive_response_requested`</span>
<span class="sd">    | `primary_field`</span>
<span class="sd">    | `secondary_field`</span>

<span class="sd">    A-ASSOCIATE-AC</span>
<span class="sd">    The `server_response` parameter is required when a response to the User</span>
<span class="sd">    Identity Negotiation request is to be issued (although this depends on</span>
<span class="sd">    whether or not this is supported by the Acceptor).</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    user_identity_type : int or None</span>
<span class="sd">        A-ASSOCIATE-RQ only. One of the following values:</span>

<span class="sd">        * 1 - Username as string in UTF-8</span>
<span class="sd">        * 2 - Username as string in UTF-8 and passcode</span>
<span class="sd">        * 3 - Kerberos Service ticket</span>
<span class="sd">        * 4 - SAML Assertion</span>
<span class="sd">        * 5 - JSON Web Token</span>
<span class="sd">    positive_response_requested : bool</span>
<span class="sd">        A-ASSOCIATE-RQ only. True when requesting a response, False otherwise</span>
<span class="sd">        (default is False)</span>
<span class="sd">    primary_field : bytes or None</span>
<span class="sd">        A-ASSOCIATE-RQ only. Contains either the username, Kerberos Service</span>
<span class="sd">        ticket or SAML assertion depending on `user_identity_type`.</span>
<span class="sd">    secondary_field : bytes or None</span>
<span class="sd">        A-ASSOCIATE-RQ only. Only required if the `user_identity_type` is 2,</span>
<span class="sd">        when it should contain the passcode as a bytes object, None otherwise</span>
<span class="sd">    server_response : bytes or None</span>
<span class="sd">        A-ASSOCIATE-AC only. Shall contain the Kerberos Service ticket or SAML</span>
<span class="sd">        response if the `user_identity_type` in the Request was 3 or 4. Shall</span>
<span class="sd">         be None if `user_identity_type` was 1 or 2.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    &gt;&gt;&gt; from pynetdicom.pdu_primitives import UserIdentityNegotiation</span>
<span class="sd">    &gt;&gt;&gt; item = UserIdentityNegotiation()</span>
<span class="sd">    &gt;&gt;&gt; item.user_identity_type = 2</span>
<span class="sd">    &gt;&gt;&gt; item.positive_response_requested = True</span>
<span class="sd">    &gt;&gt;&gt; item.primary_field = b&#39;username&#39;</span>
<span class="sd">    &gt;&gt;&gt; item.secondary_field = b&#39;password&#39;</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>

<span class="sd">    * DICOM Standard, Part 7, Annex D.3.3.7</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="UserIdentityNegotiation.__init__"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.UserIdentityNegotiation.html#pynetdicom.pdu_primitives.UserIdentityNegotiation.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_identity_type</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">positive_response_requested</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">primary_field</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secondary_field</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server_response</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="UserIdentityNegotiation.from_primitive"><a class="viewcode-back" href="../../reference/generated/pynetdicom.pdu_primitives.UserIdentityNegotiation.html#pynetdicom.pdu_primitives.UserIdentityNegotiation.from_primitive">[docs]</a>    <span class="k">def</span> <span class="nf">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert the primitive to a PDU item ready to be encoded.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        item : pdu_items.UserIdentitySubItemRQ or</span>
<span class="sd">            pdu_items.UserIdentitySubItemAC</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If server_response is None and user_identity_type or primary_field</span>
<span class="sd">            are None</span>
<span class="sd">        ValueError</span>
<span class="sd">            If server_response is None and user_identity_type is 2 and</span>
<span class="sd">            secondary_field is None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Determine if this primitive is an -RQ or -AC</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">server_response</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Then an -RQ</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_identity_type</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary_field</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;User Identity Type and Primary Field must be &quot;</span>
                    <span class="s2">&quot;set prior to Association negotiation&quot;</span>
                <span class="p">)</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_identity_type</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_field</span> <span class="o">==</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Secondary Field must be set when User Identity is 2&quot;</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">item</span> <span class="o">=</span> <span class="n">UserIdentitySubItemRQ</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Then an -AC</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">UserIdentitySubItemAC</span><span class="p">()</span>

        <span class="n">item</span><span class="o">.</span><span class="n">from_primitive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">item</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">positive_response_requested</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return *Positive Response Requested*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_positive_response_requested</span>

    <span class="nd">@positive_response_requested</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">positive_response_requested</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the Positive Response Requested parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : bool</span>
<span class="sd">            True if response requested, False otherwise</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `value` is not a bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Positive Response Requested must be boolean&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Positive Response Requested must be boolean&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_positive_response_requested</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">primary_field</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return *Primary Field*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_primary_field</span>

    <span class="nd">@primary_field</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">primary_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the Primary Field parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : bytes or None</span>
<span class="sd">            The username or Kerberos Service ticket as a bytes object</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `value` is not bytes or None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Primary Field must be bytes if requesting &quot;</span>
                         <span class="s2">&quot;Association, None otherwise&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Primary Field must be bytes if requesting &quot;</span>
                            <span class="s2">&quot;Association, None otherwise&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_primary_field</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">secondary_field</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Secondary Field*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_secondary_field</span>

    <span class="nd">@secondary_field</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">secondary_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the Secondary Field parameter.</span>

<span class="sd">        Only used when User Identity Type is equal to 2.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : bytes or None</span>
<span class="sd">            The passcode as a bytes object</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `value` is not bytes or None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Secondary Field must be bytes if requesting &quot;</span>
                         <span class="s2">&quot;Association with User Identity Type equal to 2, &quot;</span>
                         <span class="s2">&quot;None otherwise&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Secondary Field must be bytes if requesting &quot;</span>
                            <span class="s2">&quot;Association with User Identity Type equal to 2, &quot;</span>
                            <span class="s2">&quot;None otherwise&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_secondary_field</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">server_response</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *Server Response*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_server_response</span>

    <span class="nd">@server_response</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">server_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the Server Response parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : bytes or None</span>
<span class="sd">            The server response as a bytes object</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `value` is not bytes or None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Server Response must be bytes or None&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Server Response must be bytes or None&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_server_response</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;String representation of the class.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;User Identity Parameters</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">server_response</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;  User identity type: </span><span class="si">{0:d}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">user_identity_type</span><span class="p">)</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;  Positive response requested: </span><span class="si">{0!r}</span><span class="se">\n</span><span class="s1">&#39;</span> \
                 <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">positive_response_requested</span><span class="p">)</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;  Primary field: </span><span class="si">{0!s}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">primary_field</span><span class="p">)</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;  Secondary field: </span><span class="si">{0!s}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">secondary_field</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;  Server response: </span><span class="si">{0!s}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server_response</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">s</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">user_identity_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the *User Identity Type*.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_identity_type</span>

    <span class="nd">@user_identity_type</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">user_identity_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the User Identity Type parameter.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : int</span>
<span class="sd">            One of the following:</span>

<span class="sd">            * 1 - Username as string in UTF-8</span>
<span class="sd">            * 2 - Username as string in UTF-8 and passcode</span>
<span class="sd">            * 3 - Kerberos Service ticket</span>
<span class="sd">            * 4 - SAML Assertion</span>
<span class="sd">            * 5 - JSON Web Token</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        TypeError</span>
<span class="sd">            If `value` is not an int or None</span>
<span class="sd">        ValueError</span>
<span class="sd">            If `value` is an int and is not 1, 2, 3 or 4</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=attribute-defined-outside-init</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]:</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;User Identity Type must be 1, 2, 3, 4 or 5 if &quot;</span>
                             <span class="s2">&quot;requesting Association, None otherwise&quot;</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;User Identity Type must be 1, 2, 3, 4 or 5 &quot;</span>
                                 <span class="s2">&quot;if requesting Association, None otherwise&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;User Identity Type must be an int or None&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;User Identity Type must be an int or None&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_user_identity_type</span> <span class="o">=</span> <span class="n">value</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-19, pynetdicom contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>